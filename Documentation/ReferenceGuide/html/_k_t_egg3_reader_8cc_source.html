<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Katydid: KTEgg3Reader.cc Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="http://www.mathjax.org/mathjax/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="katydid_logo_small.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Katydid
   &#160;<span id="projectnumber">2.6.0</span>
   </div>
   <div id="projectbrief">Project 8 Analysis Toolkit</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('_k_t_egg3_reader_8cc_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">KTEgg3Reader.cc</div>  </div>
</div><!--header-->
<div class="contents">
<a href="_k_t_egg3_reader_8cc.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * KTEgg3Reader.cc</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> *  Created on: Jan 7, 2015</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> *      Author: nsoblath</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_k_t_egg3_reader_8hh.html">KTEgg3Reader.hh</a>&quot;</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_k_t_egg_header_8hh.html">KTEggHeader.hh</a>&quot;</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_k_t_egg_processor_8hh.html">KTEggProcessor.hh</a>&quot;</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_k_t_logger_8hh.html">KTLogger.hh</a>&quot;</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_k_t_slice_header_8hh.html">KTSliceHeader.hh</a>&quot;</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_k_t_raw_time_series_data_8hh.html">KTRawTimeSeriesData.hh</a>&quot;</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_k_t_raw_time_series_8hh.html">KTRawTimeSeries.hh</a>&quot;</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_k_t_time_series_data_8hh.html">KTTimeSeriesData.hh</a>&quot;</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_k_t_time_series_f_f_t_w_8hh.html">KTTimeSeriesFFTW.hh</a>&quot;</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_m3_monarch_8hh.html">M3Monarch.hh</a>&quot;</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_m3_data_interface_8hh.html">M3DataInterface.hh</a>&quot;</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_m3_exception_8hh.html">M3Exception.hh</a>&quot;</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacemonarch3.html">monarch3</a>;</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="keyword">using</span> std::map;</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="keyword">using</span> <a class="code" href="_nymph_2_scarab_2library_2_c_make_lists_8txt.html#adaf878e1866a055cb42e2b73e0652ce5">std::string</a>;</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="keyword">using</span> std::vector;</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespace_katydid.html">Katydid</a></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;{</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;    <a class="code" href="namespace_katydid.html#ae4aaf57b5c20bf0f2167255add6ca94c">KTLOGGER</a>(eggreadlog, <span class="stringliteral">&quot;KTEgg3Reader&quot;</span>);</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;    <a class="code" href="_k_t_egg_reader_8hh.html#a8561dfc60f324d128611b850fa48e0d4">KT_REGISTER_EGGREADER</a>(KTEgg3Reader, <span class="stringliteral">&quot;egg3&quot;</span>);</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;</div><div class="line"><a name="l00035"></a><span class="lineno"><a class="line" href="class_katydid_1_1_k_t_egg3_reader.html#a9fb937a0c48976279e7cb9cdb4662cd1">   35</a></span>&#160;    KTEgg3Reader::KTEgg3Reader() :</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;            <a class="code" href="class_katydid_1_1_k_t_egg_reader.html">KTEggReader</a>(),</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;            fSliceSize(1024),</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;            fStride(0),</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;            fStartTime(0.),</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;            <span class="comment">//fHatchNextSlicePtr(NULL),</span></div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;            fMonarch(NULL),</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;            fM3Stream(NULL),</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;            fM3StreamHeader(NULL),</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;            fHeaderPtr(new <a class="code" href="namespace_nymph.html">Nymph</a>::<a class="code" href="class_nymph_1_1_k_t_data.html">KTData</a>()),</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;            fHeader(fHeaderPtr-&gt;Of&lt; <a class="code" href="class_katydid_1_1_k_t_egg_header.html">KTEggHeader</a> &gt;()),</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;            fMasterSliceHeader(),</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;            fReadState(),</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;            fGetTimeInRun(&amp;<a class="code" href="class_katydid_1_1_k_t_egg3_reader.html">KTEgg3Reader</a>::GetTimeInRunFirstCall),</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;            fT0Offset(0),</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;            fSampleRateUnitsInHz(1.e6),</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;            fRecordSize(0),</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;            fBinWidth(0.),</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;            fSliceNumber(0)</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    {</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;        <a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#aab6abe4ffbaf2fb6ce0a785e4473601f">fReadState</a>.<a class="code" href="struct_katydid_1_1_k_t_egg3_reader_1_1_monarch_read_state.html#a36b1c3d6b58f16ca0121aa34cf01c7be">fStatus</a> = <a class="code" href="struct_katydid_1_1_k_t_egg3_reader_1_1_monarch_read_state.html#a99db392d1df2153ecad2abd0177c5e22adf8c0404be2ac395d97ba458c09d9061">MonarchReadState::kInvalid</a>;</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;        <a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#aab6abe4ffbaf2fb6ce0a785e4473601f">fReadState</a>.<a class="code" href="struct_katydid_1_1_k_t_egg3_reader_1_1_monarch_read_state.html#a88aa5bb908452a33aa3e3476c8f039bc">fStartOfLastSliceRecord</a> = 0;</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;        <a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#aab6abe4ffbaf2fb6ce0a785e4473601f">fReadState</a>.<a class="code" href="struct_katydid_1_1_k_t_egg3_reader_1_1_monarch_read_state.html#a2af5dd26a3d57e7d2c901f8cd6c9144b">fStartOfLastSliceReadPtr</a> = 0;</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;        <a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#aab6abe4ffbaf2fb6ce0a785e4473601f">fReadState</a>.<a class="code" href="struct_katydid_1_1_k_t_egg3_reader_1_1_monarch_read_state.html#adf6f4f5852b927c3fd8cfd7339921d44">fStartOfSliceAcquisitionId</a> = 0;</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;        <a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#aab6abe4ffbaf2fb6ce0a785e4473601f">fReadState</a>.<a class="code" href="struct_katydid_1_1_k_t_egg3_reader_1_1_monarch_read_state.html#acdbfc1c1eca541ab1fe37f111a6c30db">fCurrentRecord</a> = 0;</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    }</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;</div><div class="line"><a name="l00062"></a><span class="lineno"><a class="line" href="class_katydid_1_1_k_t_egg3_reader.html#a0d59ad71bc70a2024143ad6c16dad378">   62</a></span>&#160;    <a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#a0d59ad71bc70a2024143ad6c16dad378">KTEgg3Reader::~KTEgg3Reader</a>()</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    {</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#a40a80cffa30847e177029b886068dd55">fMonarch</a> != NULL)</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;        {</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;            <span class="keyword">delete</span> <a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#a40a80cffa30847e177029b886068dd55">fMonarch</a>;</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;        }</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    }</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;</div><div class="line"><a name="l00070"></a><span class="lineno"><a class="line" href="class_katydid_1_1_k_t_egg3_reader.html#ae54688a2292b6385448c61b0ce13e056">   70</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#ae54688a2292b6385448c61b0ce13e056">KTEgg3Reader::Configure</a>(<span class="keyword">const</span> <a class="code" href="class_katydid_1_1_k_t_egg_processor.html">KTEggProcessor</a>&amp; eggProc)</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    {</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;        <a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#aad4ac6689f2907c81e2d7c542f98b151">SetSliceSize</a>(eggProc.GetSliceSize());</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;        <a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#a668bac80c4d508ab48ec72b9a339b942">SetStride</a>(eggProc.GetStride());</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;        <a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#a8c105de7c0e23563a7ad8c76310ff394">SetStartTime</a>(eggProc.GetStartTime());</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    }</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;</div><div class="line"><a name="l00078"></a><span class="lineno"><a class="line" href="class_katydid_1_1_k_t_egg3_reader.html#a64e116eb5d0f3ca7eb19a515af2c0be7">   78</a></span>&#160;    <a class="code" href="namespace_nymph.html#acab933e124dd88102dbcaae6d00a1fd8">Nymph::KTDataPtr</a> <a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#a64e116eb5d0f3ca7eb19a515af2c0be7">KTEgg3Reader::BreakEgg</a>(<span class="keyword">const</span> <span class="keywordtype">string</span>&amp; filename)</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    {</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#a0ac8a76b0dd1a0a1cf9389dc9a6342bc">fStride</a> == 0) <a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#a0ac8a76b0dd1a0a1cf9389dc9a6342bc">fStride</a> = <a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#a7cc214c70efb4ad80bc0ccd589b49fbb">fSliceSize</a>;</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#a40a80cffa30847e177029b886068dd55">fMonarch</a> != NULL)</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;        {</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;            <span class="keyword">delete</span> <a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#a40a80cffa30847e177029b886068dd55">fMonarch</a>;</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;        }</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;        <span class="comment">// open the file</span></div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;        <a class="code" href="_k_t_logger_8hh.html#a0269124a70367090229edbd85a0af462">KTINFO</a>(eggreadlog, <span class="stringliteral">&quot;Opening egg file &lt;&quot;</span> &lt;&lt; filename &lt;&lt; <span class="stringliteral">&quot;&gt;&quot;</span>);</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;        <span class="keywordflow">try</span></div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;        {</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;            <a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#a40a80cffa30847e177029b886068dd55">fMonarch</a> = Monarch3::OpenForReading(filename);</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;        }</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;        <span class="keywordflow">catch</span> (<a class="code" href="classmonarch3_1_1_m3_exception.html">M3Exception</a>&amp; e)</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;        {</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;            <a class="code" href="_k_t_logger_8hh.html#affc328f122482b294174c463031121e5">KTERROR</a>(eggreadlog, <span class="stringliteral">&quot;Unable to break egg: &quot;</span> &lt;&lt; e.<a class="code" href="classmonarch3_1_1_m3_exception.html#a01e6d47d62f0cf7c0186b89d9d818148">what</a>());</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="namespace_nymph.html#acab933e124dd88102dbcaae6d00a1fd8">Nymph::KTDataPtr</a>();</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;        }</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;        <a class="code" href="_k_t_logger_8hh.html#af91ee17a153bcfb7b51c0da13ed844ad">KTDEBUG</a>(eggreadlog, <span class="stringliteral">&quot;File open; reading header&quot;</span>);</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;        <span class="keywordflow">try</span></div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;        {</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;            <a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#a40a80cffa30847e177029b886068dd55">fMonarch</a>-&gt;<a class="code" href="classmonarch3_1_1_monarch3.html#ac6e2f1d4623d6d9ddf75d304785ccb78">ReadHeader</a>();</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;        }</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;        <span class="keywordflow">catch</span> (<a class="code" href="classmonarch3_1_1_m3_exception.html">M3Exception</a>&amp; e)</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;        {</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;            <a class="code" href="_k_t_logger_8hh.html#affc328f122482b294174c463031121e5">KTERROR</a>(eggreadlog, <span class="stringliteral">&quot;Header was not read correctly: &quot;</span> &lt;&lt; e.<a class="code" href="classmonarch3_1_1_m3_exception.html#a01e6d47d62f0cf7c0186b89d9d818148">what</a>() &lt;&lt; <span class="charliteral">&#39;\n&#39;</span> &lt;&lt;</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;                    <span class="stringliteral">&quot;Egg breaking aborted.&quot;</span>);</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;            <span class="keyword">delete</span> <a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#a40a80cffa30847e177029b886068dd55">fMonarch</a>;</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;            fMonarch = NULL;</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="namespace_nymph.html#acab933e124dd88102dbcaae6d00a1fd8">Nymph::KTDataPtr</a>();</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;        }</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;        <span class="comment">// Temporary assumption: using channel 0 + any other channels in the same stream</span></div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;        <span class="keywordtype">unsigned</span> streamNum = <a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#a40a80cffa30847e177029b886068dd55">fMonarch</a>-&gt;<a class="code" href="classmonarch3_1_1_monarch3.html#af7842ef2ed898774af6736cff5e47fcd">GetHeader</a>()-&gt;GetChannelStreams()[0];</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;        <span class="comment">// set the stream pointer to stream 0</span></div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;        <a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#a7db2354e7c3d3827194467424edce8c1">fM3Stream</a> = <a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#a40a80cffa30847e177029b886068dd55">fMonarch</a>-&gt;<a class="code" href="classmonarch3_1_1_monarch3.html#a52dd07bfccefef48ba958a041bb8b2f8">GetStream</a>(streamNum);</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;        <a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#a85fb62559df20a0e8526340a68ce3bef">fM3StreamHeader</a> = &amp;(<a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#a40a80cffa30847e177029b886068dd55">fMonarch</a>-&gt;<a class="code" href="classmonarch3_1_1_monarch3.html#af7842ef2ed898774af6736cff5e47fcd">GetHeader</a>()-&gt;<a class="code" href="classmonarch3_1_1_m3_header.html#a1477dc4c3f0a064e458ff7440d2be7aa">GetStreamHeaders</a>()[streamNum]);</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;        <a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#a48e7e0db526383a4461736f16ad8a6ef">CopyHeader</a>(<a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#a40a80cffa30847e177029b886068dd55">fMonarch</a>-&gt;<a class="code" href="classmonarch3_1_1_monarch3.html#af7842ef2ed898774af6736cff5e47fcd">GetHeader</a>());</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;        <a class="code" href="_k_t_logger_8hh.html#af91ee17a153bcfb7b51c0da13ed844ad">KTDEBUG</a>(eggreadlog, <span class="stringliteral">&quot;Parsed header:\n&quot;</span> &lt;&lt; <a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#a3cd34f7e439ee74136318b926b111cad">fHeader</a>);</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;        <span class="comment">/*</span></div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;<span class="comment">        const M3StreamHeader&amp; stream0Header = fMonarch-&gt;GetHeader()-&gt;GetStreamHeaders()[0];</span></div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;<span class="comment">        if (stream0Header.GetDataFormat() == sAnalog &amp;&amp; stream0Header.GetSampleSize() == 2)</span></div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;<span class="comment">        {</span></div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;<span class="comment">            // complex, analog data is currently readable</span></div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;<span class="comment">            KTDEBUG(eggreadlog, &quot;Setting hatch-next-slice function to complex, analog&quot;);</span></div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;<span class="comment">            fHatchNextSlicePtr = &amp;KTEgg3Reader::HatchNextSliceComplex;</span></div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;<span class="comment">        }</span></div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;<span class="comment">        else if (stream0Header.GetDataFormat() == sDigitizedUS &amp;&amp; stream0Header.GetSampleSize() == 1)</span></div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;<span class="comment">        {</span></div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;<span class="comment">            // real, digitized data is currently readable</span></div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;<span class="comment">            KTDEBUG(eggreadlog, &quot;Setting hatch-next-slice function to real, digitized&quot;);</span></div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;<span class="comment">            fHatchNextSlicePtr = &amp;KTEgg3Reader::HatchNextSliceRealUnsigned;</span></div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;<span class="comment">        }</span></div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;<span class="comment">        else if (stream0Header.GetDataFormat() == sDigitizedS &amp;&amp; stream0Header.GetSampleSize() == 1)</span></div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;<span class="comment">        {</span></div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;<span class="comment">            // real, digitized data is currently readable</span></div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;<span class="comment">            KTDEBUG(eggreadlog, &quot;Setting hatch-next-slice function to real, digitized&quot;);</span></div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;<span class="comment">            fHatchNextSlicePtr = &amp;KTEgg3Reader::HatchNextSliceRealSigned;</span></div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;<span class="comment">        }</span></div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;<span class="comment">        else</span></div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;<span class="comment">        {</span></div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<span class="comment">            KTERROR(eggreadlog, &quot;Cannot read data with data format &lt;&quot; &lt;&lt; stream0Header.GetDataFormat() &lt;&lt; &quot;&gt; and sample size &lt;&quot; &lt;&lt; stream0Header.GetSampleSize() &lt;&lt; &quot;&gt;&quot;);</span></div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;<span class="comment">            delete fMonarch;</span></div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;<span class="comment">            fMonarch = NULL;</span></div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;<span class="comment">            return Nymph::KTDataPtr();</span></div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;<span class="comment">        }</span></div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;<span class="comment">        */</span></div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;        <a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#aff8512f6a97b1597fabd5c6d703efa09">fRecordSize</a> = <a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#a3cd34f7e439ee74136318b926b111cad">fHeader</a>.<a class="code" href="class_katydid_1_1_k_t_egg_header.html#a627a57b26f34f8de8ab3b854721efe53">GetChannelHeader</a>(0)-&gt;GetRecordSize();</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;        <a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#a2bcdcf2f462342322d465e47df0e6d9a">fBinWidth</a> = 1. / <a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#a3cd34f7e439ee74136318b926b111cad">fHeader</a>.GetAcquisitionRate();</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;        <a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#a3cd34f7e439ee74136318b926b111cad">fHeader</a>.SetMinimumFrequency(0.0);</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;        <a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#a3cd34f7e439ee74136318b926b111cad">fHeader</a>.SetMaximumFrequency(<a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#a3cd34f7e439ee74136318b926b111cad">fHeader</a>.GetAcquisitionRate()/2.0);</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;        <a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#a3cd34f7e439ee74136318b926b111cad">fHeader</a>.SetCenterFrequency((<a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#a3cd34f7e439ee74136318b926b111cad">fHeader</a>.GetMaximumFrequency() - <a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#a3cd34f7e439ee74136318b926b111cad">fHeader</a>.GetMinimumFrequency())/2.0);</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;        <span class="comment">// by default, start the read state at the beginning of the run</span></div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;        <a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#aab6abe4ffbaf2fb6ce0a785e4473601f">fReadState</a>.<a class="code" href="struct_katydid_1_1_k_t_egg3_reader_1_1_monarch_read_state.html#a36b1c3d6b58f16ca0121aa34cf01c7be">fStatus</a> = <a class="code" href="struct_katydid_1_1_k_t_egg3_reader_1_1_monarch_read_state.html#a99db392d1df2153ecad2abd0177c5e22a8ed6be8254581d9d99e92a2878819a9c">MonarchReadState::kAtStartOfRun</a>;</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;        <a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#aab6abe4ffbaf2fb6ce0a785e4473601f">fReadState</a>.<a class="code" href="struct_katydid_1_1_k_t_egg3_reader_1_1_monarch_read_state.html#a88aa5bb908452a33aa3e3476c8f039bc">fStartOfLastSliceRecord</a> = 0;</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;        <a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#aab6abe4ffbaf2fb6ce0a785e4473601f">fReadState</a>.<a class="code" href="struct_katydid_1_1_k_t_egg3_reader_1_1_monarch_read_state.html#a2af5dd26a3d57e7d2c901f8cd6c9144b">fStartOfLastSliceReadPtr</a> = 0;</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;        <a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#aab6abe4ffbaf2fb6ce0a785e4473601f">fReadState</a>.<a class="code" href="struct_katydid_1_1_k_t_egg3_reader_1_1_monarch_read_state.html#adf6f4f5852b927c3fd8cfd7339921d44">fStartOfSliceAcquisitionId</a> = 0;</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;        <a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#aab6abe4ffbaf2fb6ce0a785e4473601f">fReadState</a>.<a class="code" href="struct_katydid_1_1_k_t_egg3_reader_1_1_monarch_read_state.html#acdbfc1c1eca541ab1fe37f111a6c30db">fCurrentRecord</a> = 0;</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;        <span class="comment">// skip forward in the run if fStartTime is non-zero</span></div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#acd46d0cc944bd3f78a2d2fdd80a706af">fStartTime</a> &gt; 0.)</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;        {</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;            <span class="keywordtype">double</span> recordLength = <a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#aff8512f6a97b1597fabd5c6d703efa09">fRecordSize</a> * <a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#a2bcdcf2f462342322d465e47df0e6d9a">fBinWidth</a>; <span class="comment">// seconds</span></div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;            <span class="keywordtype">unsigned</span> recordSkips = (unsigned)(<a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#acd46d0cc944bd3f78a2d2fdd80a706af">fStartTime</a> / recordLength);</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;            <a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#aab6abe4ffbaf2fb6ce0a785e4473601f">fReadState</a>.<a class="code" href="struct_katydid_1_1_k_t_egg3_reader_1_1_monarch_read_state.html#a88aa5bb908452a33aa3e3476c8f039bc">fStartOfLastSliceRecord</a> = recordSkips;</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;            <a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#aab6abe4ffbaf2fb6ce0a785e4473601f">fReadState</a>.<a class="code" href="struct_katydid_1_1_k_t_egg3_reader_1_1_monarch_read_state.html#a2af5dd26a3d57e7d2c901f8cd6c9144b">fStartOfLastSliceReadPtr</a> = (unsigned)((<a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#acd46d0cc944bd3f78a2d2fdd80a706af">fStartTime</a> - (<span class="keywordtype">double</span>)recordSkips * recordLength) / fBinWidth);;</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;        }</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;        <a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#af0b50d4c5b63810dbd42aa5cafa17060">fSliceNumber</a> = 0;</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;        <span class="comment">// set a few values in the master slice header that don&#39;t change with each slice</span></div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;        <a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#a78ee85bc95767a5e9a77c4d8f39932e9">fMasterSliceHeader</a>.SetSampleRate(<a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#a3cd34f7e439ee74136318b926b111cad">fHeader</a>.GetAcquisitionRate());</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;        <a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#a78ee85bc95767a5e9a77c4d8f39932e9">fMasterSliceHeader</a>.SetRawSliceSize(<a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#a7cc214c70efb4ad80bc0ccd589b49fbb">fSliceSize</a>);</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;        <a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#a78ee85bc95767a5e9a77c4d8f39932e9">fMasterSliceHeader</a>.SetSliceSize(<a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#a7cc214c70efb4ad80bc0ccd589b49fbb">fSliceSize</a>);</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;        <a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#a78ee85bc95767a5e9a77c4d8f39932e9">fMasterSliceHeader</a>.<a class="code" href="class_katydid_1_1_k_t_slice_header.html#aab5046b3baaefe942636952a0d454219">CalculateBinWidthAndSliceLength</a>();</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;        <a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#a78ee85bc95767a5e9a77c4d8f39932e9">fMasterSliceHeader</a>.SetNonOverlapFrac((<span class="keywordtype">double</span>)<a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#a0ac8a76b0dd1a0a1cf9389dc9a6342bc">fStride</a> / (<span class="keywordtype">double</span>)<a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#a7cc214c70efb4ad80bc0ccd589b49fbb">fSliceSize</a>);</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;        <a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#a78ee85bc95767a5e9a77c4d8f39932e9">fMasterSliceHeader</a>.SetRecordSize(<a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#a3cd34f7e439ee74136318b926b111cad">fHeader</a>.<a class="code" href="class_katydid_1_1_k_t_egg_header.html#a627a57b26f34f8de8ab3b854721efe53">GetChannelHeader</a>(0)-&gt;GetRecordSize());</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#a066baf74358f1e9130ce6ce3507b08a0">fHeaderPtr</a>;</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    }</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;</div><div class="line"><a name="l00190"></a><span class="lineno"><a class="line" href="class_katydid_1_1_k_t_egg3_reader.html#a1e92740d072bbe485e1298706a4bc92b">  190</a></span>&#160;    <span class="keyword">inline</span> <a class="code" href="namespace_nymph.html#acab933e124dd88102dbcaae6d00a1fd8">Nymph::KTDataPtr</a> <a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#a1e92740d072bbe485e1298706a4bc92b">KTEgg3Reader::HatchNextSlice</a>()</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    {</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#a40a80cffa30847e177029b886068dd55">fMonarch</a> == NULL)</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;        {</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;            <a class="code" href="_k_t_logger_8hh.html#affc328f122482b294174c463031121e5">KTERROR</a>(eggreadlog, <span class="stringliteral">&quot;Monarch file has not been opened&quot;</span>);</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="namespace_nymph.html#acab933e124dd88102dbcaae6d00a1fd8">Nymph::KTDataPtr</a>();</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;        }</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#aab6abe4ffbaf2fb6ce0a785e4473601f">fReadState</a>.<a class="code" href="struct_katydid_1_1_k_t_egg3_reader_1_1_monarch_read_state.html#a36b1c3d6b58f16ca0121aa34cf01c7be">fStatus</a> == <a class="code" href="struct_katydid_1_1_k_t_egg3_reader_1_1_monarch_read_state.html#a99db392d1df2153ecad2abd0177c5e22adf8c0404be2ac395d97ba458c09d9061">MonarchReadState::kInvalid</a>)</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;        {</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;            <a class="code" href="_k_t_logger_8hh.html#affc328f122482b294174c463031121e5">KTERROR</a>(eggreadlog, <span class="stringliteral">&quot;Read state status is &lt;invalid&gt;. Did you hatch the egg first?&quot;</span>);</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="namespace_nymph.html#acab933e124dd88102dbcaae6d00a1fd8">Nymph::KTDataPtr</a>();</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;        }</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;        <span class="comment">// Get the number of channels, record size and the number of bytes per sample from the stream</span></div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;        <span class="keywordtype">unsigned</span> nChannels = <a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#a7db2354e7c3d3827194467424edce8c1">fM3Stream</a>-&gt;<a class="code" href="classmonarch3_1_1_m3_stream.html#ad05a9a7cae7a894640bd8add02468111">GetNChannels</a>();</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;        <span class="keywordtype">unsigned</span> recordSize = <a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#a7db2354e7c3d3827194467424edce8c1">fM3Stream</a>-&gt;<a class="code" href="classmonarch3_1_1_m3_stream.html#ab7a3038fa4de4a64a4d122c11912536e">GetChannelRecordSize</a>();</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;        <span class="keywordtype">unsigned</span> nBytesInSample = <a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#a7db2354e7c3d3827194467424edce8c1">fM3Stream</a>-&gt;<a class="code" href="classmonarch3_1_1_m3_stream.html#af4910b64218a8e68b2598cec89caadf5">GetDataTypeSize</a>() * <a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#a7db2354e7c3d3827194467424edce8c1">fM3Stream</a>-&gt;<a class="code" href="classmonarch3_1_1_m3_stream.html#ab922bb017acb0826b32890f556bf1c71">GetSampleSize</a>();</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;        <span class="comment">// the read position in the current record (initialize to 0 for now; will be set correctly below)</span></div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;        <span class="keywordtype">unsigned</span> readPos = 0;</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;        <span class="comment">// flag to use later, which indicates if this new slice is in a new acquisition</span></div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;        <span class="keywordtype">bool</span> isNewAcquisition = <span class="keyword">false</span>;</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#aab6abe4ffbaf2fb6ce0a785e4473601f">fReadState</a>.<a class="code" href="struct_katydid_1_1_k_t_egg3_reader_1_1_monarch_read_state.html#a36b1c3d6b58f16ca0121aa34cf01c7be">fStatus</a> == <a class="code" href="struct_katydid_1_1_k_t_egg3_reader_1_1_monarch_read_state.html#a99db392d1df2153ecad2abd0177c5e22a8ed6be8254581d9d99e92a2878819a9c">MonarchReadState::kAtStartOfRun</a>)</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;        {</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;            <span class="comment">// Assumed values in fReadState:</span></div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;            <span class="comment">// - fStartOfLastSliceRecord and fStartOfLastSliceReadPtr are at the intended starting position in the run.</span></div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;            <span class="comment">//   They may be (0,0), or they may specify some offset into the run.</span></div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;            <span class="comment">// - fCurrentRecord is 0</span></div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;            <a class="code" href="_k_t_logger_8hh.html#af91ee17a153bcfb7b51c0da13ed844ad">KTDEBUG</a>(eggreadlog, <span class="stringliteral">&quot;Reading first record&quot;</span>);</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;            isNewAcquisition = <span class="keyword">true</span>;</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;            <span class="comment">// if we&#39;re at the beginning of the run, load the first record</span></div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;            <span class="keywordflow">if</span> (! <a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#a7db2354e7c3d3827194467424edce8c1">fM3Stream</a>-&gt;<a class="code" href="classmonarch3_1_1_m3_stream.html#a3941ff07a1b83f55e1c8a9dcee274d12">ReadRecord</a>(<a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#aab6abe4ffbaf2fb6ce0a785e4473601f">fReadState</a>.<a class="code" href="struct_katydid_1_1_k_t_egg3_reader_1_1_monarch_read_state.html#a88aa5bb908452a33aa3e3476c8f039bc">fStartOfLastSliceRecord</a>))</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;            {</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;                <a class="code" href="_k_t_logger_8hh.html#affc328f122482b294174c463031121e5">KTERROR</a>(eggreadlog, <span class="stringliteral">&quot;There&#39;s nothing in the file or the requested start is beyond the end of the file&quot;</span>);</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="namespace_nymph.html#acab933e124dd88102dbcaae6d00a1fd8">Nymph::KTDataPtr</a>();</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;            }</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;            <span class="comment">// and set the read position</span></div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;            readPos = <a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#aab6abe4ffbaf2fb6ce0a785e4473601f">fReadState</a>.<a class="code" href="struct_katydid_1_1_k_t_egg3_reader_1_1_monarch_read_state.html#a2af5dd26a3d57e7d2c901f8cd6c9144b">fStartOfLastSliceReadPtr</a>;</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;            <span class="comment">// the current record is the one we just loaded</span></div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;            <a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#aab6abe4ffbaf2fb6ce0a785e4473601f">fReadState</a>.<a class="code" href="struct_katydid_1_1_k_t_egg3_reader_1_1_monarch_read_state.html#acdbfc1c1eca541ab1fe37f111a6c30db">fCurrentRecord</a> = <a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#aab6abe4ffbaf2fb6ce0a785e4473601f">fReadState</a>.<a class="code" href="struct_katydid_1_1_k_t_egg3_reader_1_1_monarch_read_state.html#a88aa5bb908452a33aa3e3476c8f039bc">fStartOfLastSliceRecord</a>;</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;            <span class="comment">// at this point, fReadState.fStartOfLastSliceRecord and fReadState.fStartOfLastSliceReadPtr are where they need to be</span></div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;            <span class="comment">// for the slice that will follow this one.</span></div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;            <span class="comment">// but we need to set fReadState.fStartOfSliceAcquisitionId</span></div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;            <a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#aab6abe4ffbaf2fb6ce0a785e4473601f">fReadState</a>.<a class="code" href="struct_katydid_1_1_k_t_egg3_reader_1_1_monarch_read_state.html#adf6f4f5852b927c3fd8cfd7339921d44">fStartOfSliceAcquisitionId</a> = <a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#a7db2354e7c3d3827194467424edce8c1">fM3Stream</a>-&gt;<a class="code" href="classmonarch3_1_1_m3_stream.html#a2b53a97b460e8e6ee31e9b3a60518fe8">GetAcquisitionId</a>();</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;            <a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#af0b50d4c5b63810dbd42aa5cafa17060">fSliceNumber</a> = 0;</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;        }</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;        {</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;            <span class="comment">// Assumed values in fReadState:</span></div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;            <span class="comment">// - fStartOfLastSliceRecord and fStartOfLastSliceReadPtr were left at the beginning of the last slice</span></div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;            <span class="comment">// - fCurrentRecord is the record # (from the start of the run) currently loaded in fStream0</span></div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;            <span class="comment">// determine the initial shift in records required to get to the start of the last slice from the current record</span></div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;            <span class="keywordtype">int</span> recordShift = (int)<a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#aab6abe4ffbaf2fb6ce0a785e4473601f">fReadState</a>.<a class="code" href="struct_katydid_1_1_k_t_egg3_reader_1_1_monarch_read_state.html#acdbfc1c1eca541ab1fe37f111a6c30db">fCurrentRecord</a> - (<span class="keywordtype">int</span>)<a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#aab6abe4ffbaf2fb6ce0a785e4473601f">fReadState</a>.<a class="code" href="struct_katydid_1_1_k_t_egg3_reader_1_1_monarch_read_state.html#a88aa5bb908452a33aa3e3476c8f039bc">fStartOfLastSliceRecord</a>;</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;            <span class="comment">// advance the read position from the last slice by the stride</span></div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;            readPos = <a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#aab6abe4ffbaf2fb6ce0a785e4473601f">fReadState</a>.<a class="code" href="struct_katydid_1_1_k_t_egg3_reader_1_1_monarch_read_state.html#a2af5dd26a3d57e7d2c901f8cd6c9144b">fStartOfLastSliceReadPtr</a> + <a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#a0ac8a76b0dd1a0a1cf9389dc9a6342bc">fStride</a>;</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;            <span class="comment">// check whether we have to advance to a new record</span></div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;            <span class="keywordflow">while</span> (readPos &gt;= recordSize)</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;            {</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;                readPos -= recordSize;</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;                ++recordShift;</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;            }</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;            <a class="code" href="_k_t_logger_8hh.html#af91ee17a153bcfb7b51c0da13ed844ad">KTDEBUG</a>(eggreadlog, <span class="stringliteral">&quot;Preparing to read next slice; Record shift: &quot;</span> &lt;&lt; recordShift &lt;&lt; <span class="stringliteral">&quot;; Read position (in record): &quot;</span> &lt;&lt; readPos);</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;            <span class="comment">// readPos is now the read position in the new record that will be loaded (or the current record, if we stay on this record)</span></div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;            <span class="comment">// if necessary, move to a new record</span></div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;            <span class="keywordflow">if</span>( recordShift != 0 )</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;            {</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;                <span class="keywordflow">if</span> (! <a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#a7db2354e7c3d3827194467424edce8c1">fM3Stream</a>-&gt;<a class="code" href="classmonarch3_1_1_m3_stream.html#a3941ff07a1b83f55e1c8a9dcee274d12">ReadRecord</a>(recordShift - 1))  <span class="comment">// 1 is subtracted since ReadRecord(0) goes to the next record</span></div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;                {</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;                    <a class="code" href="_k_t_logger_8hh.html#a96ab3c69ecd7dd33e9cede5dbb9f7fbd">KTWARN</a>(eggreadlog, <span class="stringliteral">&quot;End of egg file reached after reading new records (or something else went wrong)&quot;</span>);</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="namespace_nymph.html#acab933e124dd88102dbcaae6d00a1fd8">Nymph::KTDataPtr</a>();</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;                }</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;                <span class="comment">// set the current record according to what&#39;s now loaded</span></div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;                <a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#aab6abe4ffbaf2fb6ce0a785e4473601f">fReadState</a>.<a class="code" href="struct_katydid_1_1_k_t_egg3_reader_1_1_monarch_read_state.html#acdbfc1c1eca541ab1fe37f111a6c30db">fCurrentRecord</a> = <a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#aab6abe4ffbaf2fb6ce0a785e4473601f">fReadState</a>.<a class="code" href="struct_katydid_1_1_k_t_egg3_reader_1_1_monarch_read_state.html#acdbfc1c1eca541ab1fe37f111a6c30db">fCurrentRecord</a> + recordShift;</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;                <span class="comment">// check if we&#39;re in a new acquisition</span></div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#aab6abe4ffbaf2fb6ce0a785e4473601f">fReadState</a>.<a class="code" href="struct_katydid_1_1_k_t_egg3_reader_1_1_monarch_read_state.html#adf6f4f5852b927c3fd8cfd7339921d44">fStartOfSliceAcquisitionId</a> != <a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#a7db2354e7c3d3827194467424edce8c1">fM3Stream</a>-&gt;<a class="code" href="classmonarch3_1_1_m3_stream.html#a2b53a97b460e8e6ee31e9b3a60518fe8">GetAcquisitionId</a>())</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;                {</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;                    <a class="code" href="_k_t_logger_8hh.html#af91ee17a153bcfb7b51c0da13ed844ad">KTDEBUG</a>(eggreadlog, <span class="stringliteral">&quot;Starting slice in a new acquisition: &quot;</span> &lt;&lt; <a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#a7db2354e7c3d3827194467424edce8c1">fM3Stream</a>-&gt;<a class="code" href="classmonarch3_1_1_m3_stream.html#a2b53a97b460e8e6ee31e9b3a60518fe8">GetAcquisitionId</a>());</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;                    isNewAcquisition = <span class="keyword">true</span>;</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;                    <span class="comment">// then we need to start reading at the start of this record</span></div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;                    readPos = 0;</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;                }</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;            }</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;            <span class="comment">// now set fStartOfLastSliceRecord and fStartOfLastSliceReadPtr for this slice (they&#39;ll be used next time around)</span></div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;            <a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#aab6abe4ffbaf2fb6ce0a785e4473601f">fReadState</a>.<a class="code" href="struct_katydid_1_1_k_t_egg3_reader_1_1_monarch_read_state.html#a88aa5bb908452a33aa3e3476c8f039bc">fStartOfLastSliceRecord</a> = <a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#aab6abe4ffbaf2fb6ce0a785e4473601f">fReadState</a>.<a class="code" href="struct_katydid_1_1_k_t_egg3_reader_1_1_monarch_read_state.html#acdbfc1c1eca541ab1fe37f111a6c30db">fCurrentRecord</a>;</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;            <a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#aab6abe4ffbaf2fb6ce0a785e4473601f">fReadState</a>.<a class="code" href="struct_katydid_1_1_k_t_egg3_reader_1_1_monarch_read_state.html#a2af5dd26a3d57e7d2c901f8cd6c9144b">fStartOfLastSliceReadPtr</a> = readPos;</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;            <span class="comment">// also set fStartOfSliceAcquisitionId</span></div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;            <a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#aab6abe4ffbaf2fb6ce0a785e4473601f">fReadState</a>.<a class="code" href="struct_katydid_1_1_k_t_egg3_reader_1_1_monarch_read_state.html#adf6f4f5852b927c3fd8cfd7339921d44">fStartOfSliceAcquisitionId</a> = <a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#a7db2354e7c3d3827194467424edce8c1">fM3Stream</a>-&gt;<a class="code" href="classmonarch3_1_1_m3_stream.html#a2b53a97b460e8e6ee31e9b3a60518fe8">GetAcquisitionId</a>();</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;            ++<a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#af0b50d4c5b63810dbd42aa5cafa17060">fSliceNumber</a>;</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;        }</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;        <span class="comment">// at this point, the stream is ready for data to be copied from it, and fReadState is up-to-date</span></div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;        <span class="comment">// create the new data object</span></div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;        <a class="code" href="namespace_nymph.html#acab933e124dd88102dbcaae6d00a1fd8">Nymph::KTDataPtr</a> newData(<span class="keyword">new</span> <a class="code" href="class_nymph_1_1_k_t_data.html">Nymph::KTData</a>());</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;        <span class="comment">// add a slice header, and fill out the slice header information</span></div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;        <a class="code" href="class_katydid_1_1_k_t_slice_header.html">KTSliceHeader</a>&amp; sliceHeader = newData-&gt;<a class="code" href="struct_nymph_1_1_k_t_extensible_struct_core.html#a4b8206d04cca85cee203472264fbe1ce">Of</a>&lt; <a class="code" href="class_katydid_1_1_k_t_slice_header.html">KTSliceHeader</a> &gt;();</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;        sliceHeader = <a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#a78ee85bc95767a5e9a77c4d8f39932e9">fMasterSliceHeader</a>;</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;        sliceHeader.SetIsNewAcquisition(isNewAcquisition);</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;        sliceHeader.SetTimeInRun(<a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#aa6defa25d5c4902148ba8b6680e846bd">GetTimeInRun</a>());</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;        sliceHeader.SetSliceNumber(<a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#af0b50d4c5b63810dbd42aa5cafa17060">fSliceNumber</a>);</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;        sliceHeader.SetStartRecordNumber(<a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#aab6abe4ffbaf2fb6ce0a785e4473601f">fReadState</a>.<a class="code" href="struct_katydid_1_1_k_t_egg3_reader_1_1_monarch_read_state.html#acdbfc1c1eca541ab1fe37f111a6c30db">fCurrentRecord</a>);</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;        sliceHeader.SetStartSampleNumber(readPos);</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;        <a class="code" href="_k_t_logger_8hh.html#af91ee17a153bcfb7b51c0da13ed844ad">KTDEBUG</a>(eggreadlog, sliceHeader &lt;&lt; <span class="stringliteral">&quot;\nNote: some fields may not be filled in correctly yet&quot;</span>);</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;        <span class="comment">// create the raw time series objects that will contain the new copies of slices</span></div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;        <span class="comment">// and set some channel-specific slice header info</span></div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;        vector&lt; KTRawTimeSeries* &gt; newSlices(nChannels);</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> iChan = 0; iChan &lt; nChannels; ++iChan)</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;        {</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;            newSlices[iChan] = <span class="keyword">new</span> <a class="code" href="class_katydid_1_1_k_t_raw_time_series.html">KTRawTimeSeries</a>(<a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#a7db2354e7c3d3827194467424edce8c1">fM3Stream</a>-&gt;<a class="code" href="classmonarch3_1_1_m3_stream.html#af4910b64218a8e68b2598cec89caadf5">GetDataTypeSize</a>(),</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;                    <a class="code" href="namespace_katydid.html#ad2209375e0a3facf63b186997f06aef4">ConvertMonarch3DataFormat</a>(<a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#a85fb62559df20a0e8526340a68ce3bef">fM3StreamHeader</a>-&gt;GetDataFormat()),</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;                    <a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#a7cc214c70efb4ad80bc0ccd589b49fbb">fSliceSize</a>, 0., <span class="keywordtype">double</span>(<a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#a7cc214c70efb4ad80bc0ccd589b49fbb">fSliceSize</a>) * sliceHeader.GetBinWidth());</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;            sliceHeader.<a class="code" href="class_katydid_1_1_k_t_slice_header.html#ab4b77960162c060eaf7e9dab43b8effb">SetAcquisitionID</a>(<a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#a7db2354e7c3d3827194467424edce8c1">fM3Stream</a>-&gt;<a class="code" href="classmonarch3_1_1_m3_stream.html#a2b53a97b460e8e6ee31e9b3a60518fe8">GetAcquisitionId</a>(), iChan);</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;            sliceHeader.<a class="code" href="class_katydid_1_1_k_t_slice_header.html#a0ada230157861253769b989c8687e5fe">SetRecordID</a>(<a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#a7db2354e7c3d3827194467424edce8c1">fM3Stream</a>-&gt;<a class="code" href="classmonarch3_1_1_m3_stream.html#ac24296817eac226a2c9ae5088e9709b8">GetChannelRecord</a>( iChan )-&gt;<a class="code" href="classmonarch3_1_1_m3_record.html#ad95d19bb077743ab13e6c2383c3934f5">GetRecordId</a>(), iChan);</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;            sliceHeader.<a class="code" href="class_katydid_1_1_k_t_slice_header.html#afa7b46fec72488f86fb7db80dc7dcc98">SetTimeStamp</a>(<a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#a7db2354e7c3d3827194467424edce8c1">fM3Stream</a>-&gt;<a class="code" href="classmonarch3_1_1_m3_stream.html#ac24296817eac226a2c9ae5088e9709b8">GetChannelRecord</a>( iChan )-&gt;<a class="code" href="classmonarch3_1_1_m3_record.html#a78691a8fd80ec746296231877da028ae">GetTime</a>(), iChan);</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;            sliceHeader.<a class="code" href="class_katydid_1_1_k_t_slice_header.html#a40de1ab9d6333a87285e787bbdbfcd3b">SetRawDataFormatType</a>(<a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#a3cd34f7e439ee74136318b926b111cad">fHeader</a>.<a class="code" href="class_katydid_1_1_k_t_egg_header.html#a627a57b26f34f8de8ab3b854721efe53">GetChannelHeader</a>( iChan )-&gt;GetDataFormat(), iChan);</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;        }</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;        <span class="comment">// the write position on the new slice</span></div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;        <span class="keywordtype">unsigned</span> writePos = 0;</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;        <span class="comment">// the number of samples still to copy to the new slice</span></div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;        <span class="keywordtype">unsigned</span> samplesRemainingToCopy = <a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#a7cc214c70efb4ad80bc0ccd589b49fbb">fSliceSize</a>;</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;        <span class="comment">// the last sample that will be copied in a record, for each copy</span></div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;        <span class="comment">// the motivation for calculating this (at least initially) is to know the last (record, sample) pair for the slice</span></div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;        <span class="keywordtype">unsigned</span> lastSampleCopied = 0;</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;        <a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#aab6abe4ffbaf2fb6ce0a785e4473601f">fReadState</a>.<a class="code" href="struct_katydid_1_1_k_t_egg3_reader_1_1_monarch_read_state.html#a36b1c3d6b58f16ca0121aa34cf01c7be">fStatus</a> = <a class="code" href="struct_katydid_1_1_k_t_egg3_reader_1_1_monarch_read_state.html#a99db392d1df2153ecad2abd0177c5e22a92cc411a44883830dcd948068101e096">MonarchReadState::kContinueReading</a>;</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;        <span class="comment">//****************************************</span></div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;        <span class="comment">// loop until all samples have been copied</span></div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;        <span class="comment">//****************************************</span></div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;        <span class="keywordflow">while</span>( samplesRemainingToCopy &gt; 0 )</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;        {</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;            <span class="comment">// calculate the end-of-slice position</span></div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;            <span class="keywordtype">unsigned</span> endOfSlicePos = readPos + samplesRemainingToCopy; <span class="comment">// this is 1 past the last sample in the slice</span></div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;            <span class="comment">// calculate the number of samples to copy from this record</span></div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;            <span class="keywordtype">unsigned</span> samplesToCopyFromThisRecord = samplesRemainingToCopy;</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;            <span class="comment">// check if the slice goes beyond the end of the record, and if so, reduce the number of samples to copy from this record</span></div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;            <span class="keywordflow">if</span>( endOfSlicePos &gt; recordSize )</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;            {</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;                <span class="comment">// samplesBeyondRecord = endOfSlicePos - recordSize;</span></div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;                samplesToCopyFromThisRecord -= endOfSlicePos - recordSize;</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;            }</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;            lastSampleCopied = readPos + samplesToCopyFromThisRecord - 1;</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;            <span class="comment">// number of bytes to copy from this record</span></div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;            <span class="keywordtype">unsigned</span> bytesToCopy = samplesToCopyFromThisRecord * nBytesInSample;</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;            <span class="comment">// write position in bytes</span></div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;            <span class="keywordtype">unsigned</span> writePosBytes = writePos * nBytesInSample;</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;            <span class="keywordtype">unsigned</span> readPosBytes = readPos * nBytesInSample;</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;            <span class="comment">// copy the samples from this record for each channel</span></div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;            <a class="code" href="_k_t_logger_8hh.html#af91ee17a153bcfb7b51c0da13ed844ad">KTDEBUG</a>(eggreadlog, <span class="stringliteral">&quot;Copying data to slice; &quot;</span> &lt;&lt; bytesToCopy &lt;&lt; <span class="stringliteral">&quot; bytes in &quot;</span> &lt;&lt; samplesToCopyFromThisRecord &lt;&lt; <span class="stringliteral">&quot; samples&quot;</span>);</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;            <span class="keywordflow">for</span>( <span class="keywordtype">unsigned</span> iChan = 0; iChan &lt; nChannels; ++iChan )</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;            {</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;                memcpy( newSlices[iChan]-&gt;GetStorage() + writePosBytes,</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;                        <a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#a7db2354e7c3d3827194467424edce8c1">fM3Stream</a>-&gt;<a class="code" href="classmonarch3_1_1_m3_stream.html#ac24296817eac226a2c9ae5088e9709b8">GetChannelRecord</a>( iChan )-&gt;<a class="code" href="classmonarch3_1_1_m3_record.html#af92912d1e543e96cb5f176b1f4a7996a">GetData</a>() + readPosBytes,</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;                        bytesToCopy );</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;            }</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;            <span class="comment">//*** DEBUG ***//</span></div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;            <span class="comment">/*</span></div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;<span class="comment">            std::stringstream readstream, writestream;</span></div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;<span class="comment">            M3DataReader&lt; int64_t &gt; readIfc(fM3Stream-&gt;GetChannelRecord( 0 )-&gt;GetData(), fHeader.GetChannelHeader(0)-&gt;GetDataTypeSize(), fHeader.GetChannelHeader(0)-&gt;GetDataFormat());</span></div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;<span class="comment">            KTVarTypePhysicalArray&lt; int64_t &gt; writeIfc = newSlices[0]-&gt;CreateInterface&lt; int64_t &gt;();</span></div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;<span class="comment">            for (unsigned iBin = 0; iBin &lt; 30; ++iBin)</span></div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;<span class="comment">            {</span></div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;<span class="comment">                std::cout &lt;&lt; &quot;read at &quot; &lt;&lt; readPos + iBin &lt;&lt; &quot; = &quot; &lt;&lt; readPos &lt;&lt; &quot; + &quot; &lt;&lt; iBin &lt;&lt; &quot;;    write at &quot; &lt;&lt; writePos + iBin &lt;&lt; &quot; = &quot; &lt;&lt; writePos &lt;&lt; &quot; + &quot; &lt;&lt; iBin &lt;&lt; std::endl;</span></div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;<span class="comment">                readstream &lt;&lt; readIfc.at( readPos + iBin ) &lt;&lt; &quot;  &quot;;</span></div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;<span class="comment">                writestream &lt;&lt; writeIfc( writePos + iBin ) &lt;&lt; &quot;  &quot;;</span></div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;<span class="comment">            }</span></div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;<span class="comment">            KTWARN(eggreadlog, &quot;Reading:  &quot; &lt;&lt; readstream.str());</span></div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;<span class="comment">            KTWARN(eggreadlog, &quot;Writing:  &quot; &lt;&lt; writestream.str());</span></div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;<span class="comment">            */</span></div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;            <span class="comment">//*** DEBUG ***//</span></div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;            <span class="comment">// update samplesRemainingToCopy</span></div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;            samplesRemainingToCopy -= samplesToCopyFromThisRecord;</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;            <span class="comment">// check if there&#39;s still more to do</span></div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;            <span class="keywordflow">if</span>( samplesRemainingToCopy &gt; 0 )</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;            {</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;                <span class="comment">// move to the next record</span></div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;                <span class="keywordflow">if</span> (! <a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#a7db2354e7c3d3827194467424edce8c1">fM3Stream</a>-&gt;<a class="code" href="classmonarch3_1_1_m3_stream.html#a3941ff07a1b83f55e1c8a9dcee274d12">ReadRecord</a>())</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;                {</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;                    <a class="code" href="_k_t_logger_8hh.html#a96ab3c69ecd7dd33e9cede5dbb9f7fbd">KTWARN</a>(eggreadlog, <span class="stringliteral">&quot;End of file reached before slice was completely read (or something else went wrong)&quot;</span>);</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;                    <span class="keywordflow">return</span> <a class="code" href="namespace_nymph.html#acab933e124dd88102dbcaae6d00a1fd8">Nymph::KTDataPtr</a>();</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;                }</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;                <a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#aab6abe4ffbaf2fb6ce0a785e4473601f">fReadState</a>.<a class="code" href="struct_katydid_1_1_k_t_egg3_reader_1_1_monarch_read_state.html#acdbfc1c1eca541ab1fe37f111a6c30db">fCurrentRecord</a> = <a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#aab6abe4ffbaf2fb6ce0a785e4473601f">fReadState</a>.<a class="code" href="struct_katydid_1_1_k_t_egg3_reader_1_1_monarch_read_state.html#acdbfc1c1eca541ab1fe37f111a6c30db">fCurrentRecord</a> + 1;</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;                readPos = 0; <span class="comment">// reset the read position, which is now at the beginning of the new record</span></div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;                <span class="comment">// check if we&#39;ve moved to a new acquisition</span></div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#aab6abe4ffbaf2fb6ce0a785e4473601f">fReadState</a>.<a class="code" href="struct_katydid_1_1_k_t_egg3_reader_1_1_monarch_read_state.html#adf6f4f5852b927c3fd8cfd7339921d44">fStartOfSliceAcquisitionId</a> != <a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#a7db2354e7c3d3827194467424edce8c1">fM3Stream</a>-&gt;<a class="code" href="classmonarch3_1_1_m3_stream.html#a2b53a97b460e8e6ee31e9b3a60518fe8">GetAcquisitionId</a>())</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;                {</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;                    <a class="code" href="_k_t_logger_8hh.html#af91ee17a153bcfb7b51c0da13ed844ad">KTDEBUG</a>(eggreadlog, <span class="stringliteral">&quot;New acquisition reached; starting slice again\n&quot;</span> &lt;&lt;</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;                            <span class="stringliteral">&quot;\tUnused samples: &quot;</span> &lt;&lt; writePos + samplesToCopyFromThisRecord);</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;                    <span class="comment">// now we need to start the slice over with the now-current record</span></div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;                    writePos = 0;</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;                    samplesRemainingToCopy = <a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#a7cc214c70efb4ad80bc0ccd589b49fbb">fSliceSize</a>;</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;                    <span class="comment">// reset fStartOfLastSliceRecord and fStartOfLastSliceReadPtr for this slice (they&#39;ll be used next time around)</span></div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;                    <a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#aab6abe4ffbaf2fb6ce0a785e4473601f">fReadState</a>.<a class="code" href="struct_katydid_1_1_k_t_egg3_reader_1_1_monarch_read_state.html#a88aa5bb908452a33aa3e3476c8f039bc">fStartOfLastSliceRecord</a> = <a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#aab6abe4ffbaf2fb6ce0a785e4473601f">fReadState</a>.<a class="code" href="struct_katydid_1_1_k_t_egg3_reader_1_1_monarch_read_state.html#acdbfc1c1eca541ab1fe37f111a6c30db">fCurrentRecord</a>;</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;                    <a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#aab6abe4ffbaf2fb6ce0a785e4473601f">fReadState</a>.<a class="code" href="struct_katydid_1_1_k_t_egg3_reader_1_1_monarch_read_state.html#a2af5dd26a3d57e7d2c901f8cd6c9144b">fStartOfLastSliceReadPtr</a> = 0;</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;                    <span class="comment">// also reset fStartOfSliceAcquisitionId</span></div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;                    <a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#aab6abe4ffbaf2fb6ce0a785e4473601f">fReadState</a>.<a class="code" href="struct_katydid_1_1_k_t_egg3_reader_1_1_monarch_read_state.html#adf6f4f5852b927c3fd8cfd7339921d44">fStartOfSliceAcquisitionId</a> = <a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#a7db2354e7c3d3827194467424edce8c1">fM3Stream</a>-&gt;<a class="code" href="classmonarch3_1_1_m3_stream.html#a2b53a97b460e8e6ee31e9b3a60518fe8">GetAcquisitionId</a>();</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;                    <span class="comment">// reset slice data</span></div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;                    sliceHeader.SetIsNewAcquisition(<span class="keyword">true</span>);</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;                    sliceHeader.SetStartRecordNumber(<a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#aab6abe4ffbaf2fb6ce0a785e4473601f">fReadState</a>.<a class="code" href="struct_katydid_1_1_k_t_egg3_reader_1_1_monarch_read_state.html#acdbfc1c1eca541ab1fe37f111a6c30db">fCurrentRecord</a>);</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;                    sliceHeader.SetStartSampleNumber(readPos);</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;                    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> iChan = 0; iChan &lt; nChannels; ++iChan)</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;                    {</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;                        sliceHeader.<a class="code" href="class_katydid_1_1_k_t_slice_header.html#ab4b77960162c060eaf7e9dab43b8effb">SetAcquisitionID</a>(<a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#a7db2354e7c3d3827194467424edce8c1">fM3Stream</a>-&gt;<a class="code" href="classmonarch3_1_1_m3_stream.html#a2b53a97b460e8e6ee31e9b3a60518fe8">GetAcquisitionId</a>(), iChan);</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;                        sliceHeader.<a class="code" href="class_katydid_1_1_k_t_slice_header.html#a0ada230157861253769b989c8687e5fe">SetRecordID</a>(<a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#a7db2354e7c3d3827194467424edce8c1">fM3Stream</a>-&gt;<a class="code" href="classmonarch3_1_1_m3_stream.html#ac24296817eac226a2c9ae5088e9709b8">GetChannelRecord</a>( iChan )-&gt;<a class="code" href="classmonarch3_1_1_m3_record.html#ad95d19bb077743ab13e6c2383c3934f5">GetRecordId</a>(), iChan);</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;                        sliceHeader.<a class="code" href="class_katydid_1_1_k_t_slice_header.html#afa7b46fec72488f86fb7db80dc7dcc98">SetTimeStamp</a>(<a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#a7db2354e7c3d3827194467424edce8c1">fM3Stream</a>-&gt;<a class="code" href="classmonarch3_1_1_m3_stream.html#ac24296817eac226a2c9ae5088e9709b8">GetChannelRecord</a>( iChan )-&gt;<a class="code" href="classmonarch3_1_1_m3_record.html#a78691a8fd80ec746296231877da028ae">GetTime</a>(), iChan);</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;                    }</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;                    sliceHeader.SetTimeInRun(<a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#aa6defa25d5c4902148ba8b6680e846bd">GetTimeInRun</a>());</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;                    <a class="code" href="_k_t_logger_8hh.html#af91ee17a153bcfb7b51c0da13ed844ad">KTDEBUG</a>(eggreadlog, <span class="stringliteral">&quot;Correction to time in run: &quot;</span> &lt;&lt; <a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#aa6defa25d5c4902148ba8b6680e846bd">GetTimeInRun</a>() &lt;&lt; <span class="stringliteral">&quot; s\n&quot;</span> &lt;&lt;</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;                            <span class="stringliteral">&quot;\tCurent record = &quot;</span> &lt;&lt; <a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#aab6abe4ffbaf2fb6ce0a785e4473601f">fReadState</a>.<a class="code" href="struct_katydid_1_1_k_t_egg3_reader_1_1_monarch_read_state.html#acdbfc1c1eca541ab1fe37f111a6c30db">fCurrentRecord</a> &lt;&lt; <span class="charliteral">&#39;\n&#39;</span> &lt;&lt;</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;                            <span class="stringliteral">&quot;\tSlice start sample in record = &quot;</span> &lt;&lt; readPos);</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;                } <span class="comment">// end if-block dealing with new acquisitions</span></div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;                <span class="comment">// and now we&#39;re ready to loop back to copy samples from the new record</span></div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;            } <span class="comment">// end if-block used when there are still samples left to copy for this slice</span></div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;        } <span class="comment">// end while-loop responsible for copying samples to the slice</span></div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;        <span class="comment">// at this point, all of the samples have been copied into the new slice</span></div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;        <span class="comment">// the slice header gets information about where the slice ended</span></div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;        sliceHeader.SetEndRecordNumber(<a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#aab6abe4ffbaf2fb6ce0a785e4473601f">fReadState</a>.<a class="code" href="struct_katydid_1_1_k_t_egg3_reader_1_1_monarch_read_state.html#acdbfc1c1eca541ab1fe37f111a6c30db">fCurrentRecord</a>);</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;        sliceHeader.SetEndSampleNumber(lastSampleCopied);</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;        <span class="comment">// finally, set the records in the new data object</span></div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;        <a class="code" href="class_katydid_1_1_k_t_raw_time_series_data.html">KTRawTimeSeriesData</a>&amp; tsData = newData-&gt;<a class="code" href="struct_nymph_1_1_k_t_extensible_struct_core.html#a4b8206d04cca85cee203472264fbe1ce">Of</a>&lt; <a class="code" href="class_katydid_1_1_k_t_raw_time_series_data.html">KTRawTimeSeriesData</a> &gt;().SetNComponents(nChannels);</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> iChannel = 0; iChannel &lt; nChannels; ++iChannel)</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;        {</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;            tsData.<a class="code" href="class_katydid_1_1_k_t_raw_time_series_data.html#a17c67aaf91e6469257801f083d10df84">SetTimeSeries</a>(newSlices[iChannel], iChannel);</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;        }</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;        <span class="keywordflow">return</span> newData;</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;    }</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;</div><div class="line"><a name="l00454"></a><span class="lineno"><a class="line" href="class_katydid_1_1_k_t_egg3_reader.html#ac0a9c69664ffbe0f063fa796c0b9cea1">  454</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#ac0a9c69664ffbe0f063fa796c0b9cea1">KTEgg3Reader::CloseEgg</a>()</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    {</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;        <span class="keywordflow">try</span></div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;        {</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;            <a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#a40a80cffa30847e177029b886068dd55">fMonarch</a>-&gt;<a class="code" href="classmonarch3_1_1_monarch3.html#a9030ba233452be1652feb745f67b53be">FinishReading</a>();</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;        }</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;        <span class="keywordflow">catch</span> (<a class="code" href="classmonarch3_1_1_m3_exception.html">M3Exception</a>&amp; e)</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;        {</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;            <a class="code" href="_k_t_logger_8hh.html#affc328f122482b294174c463031121e5">KTERROR</a>(eggreadlog, <span class="stringliteral">&quot;Something went wrong while closing the file: &quot;</span> &lt;&lt; e.<a class="code" href="classmonarch3_1_1_m3_exception.html#a01e6d47d62f0cf7c0186b89d9d818148">what</a>());</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;        }</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;        <span class="keyword">delete</span> <a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#a40a80cffa30847e177029b886068dd55">fMonarch</a>;</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;        fMonarch = NULL;</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;    }</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;</div><div class="line"><a name="l00470"></a><span class="lineno"><a class="line" href="class_katydid_1_1_k_t_egg3_reader.html#a48e7e0db526383a4461736f16ad8a6ef">  470</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#a48e7e0db526383a4461736f16ad8a6ef">KTEgg3Reader::CopyHeader</a>(<span class="keyword">const</span> <a class="code" href="classmonarch3_1_1_m3_header.html">M3Header</a>* monarchHeader)</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;    {</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;        <a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#a3cd34f7e439ee74136318b926b111cad">fHeader</a>.SetFilename(monarchHeader-&gt;GetFilename());</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;        <a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#a3cd34f7e439ee74136318b926b111cad">fHeader</a>.SetAcquisitionMode(<a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#a85fb62559df20a0e8526340a68ce3bef">fM3StreamHeader</a>-&gt;GetNChannels());</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;        <a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#a3cd34f7e439ee74136318b926b111cad">fHeader</a>.SetRunDuration(monarchHeader-&gt;GetRunDuration()); <span class="comment">// in ms</span></div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;        <a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#a3cd34f7e439ee74136318b926b111cad">fHeader</a>.SetAcquisitionRate(<a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#a85fb62559df20a0e8526340a68ce3bef">fM3StreamHeader</a>-&gt;GetAcquisitionRate() * <a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#aafb6e6dca9b06df9729056d197e7a515">fSampleRateUnitsInHz</a>);</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;        <a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#a3cd34f7e439ee74136318b926b111cad">fHeader</a>.SetTimestamp(monarchHeader-&gt;GetTimestamp());</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;        <a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#a3cd34f7e439ee74136318b926b111cad">fHeader</a>.SetDescription(monarchHeader-&gt;GetDescription());</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;        <a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#a3cd34f7e439ee74136318b926b111cad">fHeader</a>.<a class="code" href="class_katydid_1_1_k_t_egg_header.html#a24b7168fb811e520f1efe3aad137ac24">SetNChannels</a>(<a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#a85fb62559df20a0e8526340a68ce3bef">fM3StreamHeader</a>-&gt;GetNChannels());</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;        <span class="keywordtype">unsigned</span> streamNum = <a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#a85fb62559df20a0e8526340a68ce3bef">fM3StreamHeader</a>-&gt;GetNumber();</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;        <span class="keywordtype">unsigned</span> iChanInKatydid = 0;</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;        <span class="comment">// loop over all of the channels in the file, and use the map of channel # to stream # to find the channels in this stream</span></div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> iChanInFile = 0; iChanInFile &lt; monarchHeader-&gt;GetNChannels(); ++iChanInFile)</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;        {</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;            <span class="keywordflow">if</span> (monarchHeader-&gt;GetChannelStreams()[iChanInFile] == streamNum)</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;            {</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;                <a class="code" href="_k_t_logger_8hh.html#af91ee17a153bcfb7b51c0da13ed844ad">KTDEBUG</a>(eggreadlog, <span class="stringliteral">&quot;Adding channel &quot;</span> &lt;&lt; iChanInFile &lt;&lt; <span class="stringliteral">&quot; in the egg file&quot;</span>);</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;                <span class="keyword">const</span> <a class="code" href="classmonarch3_1_1_m3_channel_header.html">M3ChannelHeader</a>&amp; channelHeader = monarchHeader-&gt;<a class="code" href="classmonarch3_1_1_m3_header.html#a3db3030f3e973fabdfb746e836c446be">GetChannelHeaders</a>()[iChanInFile];</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;                <a class="code" href="class_katydid_1_1_k_t_channel_header.html">KTChannelHeader</a>* newChanHeader = <span class="keyword">new</span> <a class="code" href="class_katydid_1_1_k_t_channel_header.html">KTChannelHeader</a>();</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;                newChanHeader-&gt;SetNumber(iChanInKatydid);</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;                newChanHeader-&gt;SetSource(channelHeader.GetSource());</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;                newChanHeader-&gt;SetRawSliceSize(<a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#a7cc214c70efb4ad80bc0ccd589b49fbb">fSliceSize</a>);</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;                newChanHeader-&gt;SetSliceSize(<a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#a7cc214c70efb4ad80bc0ccd589b49fbb">fSliceSize</a>);</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;                newChanHeader-&gt;SetSliceStride(<a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#a0ac8a76b0dd1a0a1cf9389dc9a6342bc">fStride</a>);</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;                newChanHeader-&gt;SetRecordSize(<a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#a85fb62559df20a0e8526340a68ce3bef">fM3StreamHeader</a>-&gt;GetRecordSize());</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;                newChanHeader-&gt;SetSampleSize(channelHeader.GetSampleSize());</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;                newChanHeader-&gt;SetDataTypeSize(channelHeader.GetDataTypeSize());</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;                newChanHeader-&gt;SetDataFormat(<a class="code" href="namespace_katydid.html#ad2209375e0a3facf63b186997f06aef4">ConvertMonarch3DataFormat</a>(channelHeader.GetDataFormat()));</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;                newChanHeader-&gt;SetBitDepth(channelHeader.GetBitDepth());</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;                newChanHeader-&gt;SetBitAlignment(channelHeader.GetBitAlignment());</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;                newChanHeader-&gt;SetVoltageOffset(channelHeader.GetVoltageOffset());</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;                newChanHeader-&gt;SetVoltageRange(channelHeader.GetVoltageRange());</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;                newChanHeader-&gt;SetDACGain(channelHeader.GetDACGain());</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;                <a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#a3cd34f7e439ee74136318b926b111cad">fHeader</a>.<a class="code" href="class_katydid_1_1_k_t_egg_header.html#a58b16184c6ba5af2bd51c4ae9dcb8a2b">SetChannelHeader</a>(newChanHeader, iChanInKatydid);</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;                ++iChanInKatydid;</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;            }</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;        }</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;        <span class="comment">// set the TS data type size based on channel 0 (by Katydid&#39;s channel counting)</span></div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#a3cd34f7e439ee74136318b926b111cad">fHeader</a>.<a class="code" href="class_katydid_1_1_k_t_egg_header.html#a627a57b26f34f8de8ab3b854721efe53">GetChannelHeader</a>(0)-&gt;GetSampleSize() == 1) <a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#a3cd34f7e439ee74136318b926b111cad">fHeader</a>.SetTSDataType(<a class="code" href="class_katydid_1_1_k_t_egg_header.html#a6a53298e628beae91dfd14deb988aeaca372e59b1c5e3855b7ef05b689ad054e0">KTEggHeader::kReal</a>);</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#a3cd34f7e439ee74136318b926b111cad">fHeader</a>.<a class="code" href="class_katydid_1_1_k_t_egg_header.html#a627a57b26f34f8de8ab3b854721efe53">GetChannelHeader</a>(0)-&gt;GetSampleSize() == 2) <a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#a3cd34f7e439ee74136318b926b111cad">fHeader</a>.SetTSDataType(<a class="code" href="class_katydid_1_1_k_t_egg_header.html#a6a53298e628beae91dfd14deb988aeacab5aff04807b6b9eb73e75f2adf0c66b4">KTEggHeader::kComplex</a>);</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;        {</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;            <a class="code" href="_k_t_logger_8hh.html#affc328f122482b294174c463031121e5">KTERROR</a>(eggreadlog, <span class="stringliteral">&quot;Cannot handle sample size == &quot;</span> &lt;&lt; <a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#a3cd34f7e439ee74136318b926b111cad">fHeader</a>.<a class="code" href="class_katydid_1_1_k_t_egg_header.html#a627a57b26f34f8de8ab3b854721efe53">GetChannelHeader</a>(0)-&gt;GetSampleSize());</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;        }</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;        <span class="keywordflow">return</span>;</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    }</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;</div><div class="line"><a name="l00519"></a><span class="lineno"><a class="line" href="class_katydid_1_1_k_t_egg3_reader.html#a27ad6b323a93eb1b26fe76d369a24d75">  519</a></span>&#160;    <span class="keywordtype">double</span> <a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#a27ad6b323a93eb1b26fe76d369a24d75">KTEgg3Reader::GetTimeInRunFirstCall</a>()<span class="keyword"> const</span></div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;<span class="keyword">    </span>{</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;        <a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#a2701157c74fc74ad6b3d325dde517ae6">fT0Offset</a> = <a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#a7db2354e7c3d3827194467424edce8c1">fM3Stream</a>-&gt;<a class="code" href="classmonarch3_1_1_m3_stream.html#ac24296817eac226a2c9ae5088e9709b8">GetChannelRecord</a>(0)-&gt;<a class="code" href="classmonarch3_1_1_m3_record.html#a78691a8fd80ec746296231877da028ae">GetTime</a>();</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;        <a class="code" href="_k_t_logger_8hh.html#af91ee17a153bcfb7b51c0da13ed844ad">KTDEBUG</a>(eggreadlog, <span class="stringliteral">&quot;Time offset of the first slice: &quot;</span> &lt;&lt; <a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#a2701157c74fc74ad6b3d325dde517ae6">fT0Offset</a> &lt;&lt; <span class="stringliteral">&quot; ns&quot;</span>);</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#a2701157c74fc74ad6b3d325dde517ae6">fT0Offset</a> == 0)</div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;        {</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;            <a class="code" href="_k_t_logger_8hh.html#af91ee17a153bcfb7b51c0da13ed844ad">KTDEBUG</a>(eggreadlog, <span class="stringliteral">&quot;First call to GetTimeInRun; Monarch record time is 0; switching GetTIR function to manual&quot;</span>);</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;            <a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#a7d58f2ff112433afc9b366f2ac612a59">fGetTimeInRun</a> = &amp;<a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#a9c354a97acf448ac5aae549b6c1d977a">KTEgg3Reader::GetTimeInRunManually</a>;</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;        }</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;        {</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;            <a class="code" href="_k_t_logger_8hh.html#af91ee17a153bcfb7b51c0da13ed844ad">KTDEBUG</a>(eggreadlog, <span class="stringliteral">&quot;First call to GetTimeInRun; Monarch record time is not 0; switching GetTIR function to from-monarch&quot;</span>);</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;            <a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#a7d58f2ff112433afc9b366f2ac612a59">fGetTimeInRun</a> = &amp;<a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#a41c330c0f4f509bdbe20dca0fc38aa5b">KTEgg3Reader::GetTimeInRunFromMonarch</a>;</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;        }</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="class_katydid_1_1_k_t_egg3_reader.html#aa6defa25d5c4902148ba8b6680e846bd">GetTimeInRun</a>();</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;    }</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;</div><div class="line"><a name="l00537"></a><span class="lineno"><a class="line" href="namespace_katydid.html#ad2209375e0a3facf63b186997f06aef4">  537</a></span>&#160;    uint32_t <a class="code" href="namespace_katydid.html#ad2209375e0a3facf63b186997f06aef4">ConvertMonarch3DataFormat</a>( uint32_t m3DataFormat )</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;    {</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;        <span class="keywordflow">switch</span>( m3DataFormat )</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;        {</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespacemonarch3.html#a2169f1221c15c8d4fdf482886f0c1364">monarch3::sDigitizedUS</a>:</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="namespace_katydid.html#aafd35ce7e9c13f23e7873124fbdb113e">sDigitizedUS</a>;</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespacemonarch3.html#a7b673fffb091ee9790fca5ad52bbffb9">monarch3::sDigitizedS</a>:</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="namespace_katydid.html#aeb53492058b1b300ca1d1a2207cd1b4a">sDigitizedS</a>;</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="namespacemonarch3.html#a4462ba357dee30163a69aa8f39ea8eee">monarch3::sAnalog</a>:</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="namespace_katydid.html#a808869e9392089003267026a3b0f342d">sAnalog</a>;</div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;                <span class="keywordflow">break</span>;</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;            <span class="keywordflow">default</span>:</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="namespace_katydid.html#a67595ce1b8415fd716b1b1463fffb030">sInvalidFormat</a>;</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;        }</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;    }</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;</div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;</div><div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;} <span class="comment">/* namespace Katydid */</span></div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;</div><div class="ttc" id="class_katydid_1_1_k_t_egg3_reader_html_aad4ac6689f2907c81e2d7c542f98b151"><div class="ttname"><a href="class_katydid_1_1_k_t_egg3_reader.html#aad4ac6689f2907c81e2d7c542f98b151">Katydid::KTEgg3Reader::SetSliceSize</a></div><div class="ttdeci">void SetSliceSize(unsigned size)</div><div class="ttdef"><b>Definition:</b> <a href="_k_t_egg3_reader_8hh_source.html#l00163">KTEgg3Reader.hh:163</a></div></div>
<div class="ttc" id="namespace_katydid_html_ae4aaf57b5c20bf0f2167255add6ca94c"><div class="ttname"><a href="namespace_katydid.html#ae4aaf57b5c20bf0f2167255add6ca94c">Katydid::KTLOGGER</a></div><div class="ttdeci">KTLOGGER(eggreadlog,&quot;KTEgg3Reader&quot;)</div></div>
<div class="ttc" id="class_katydid_1_1_k_t_egg3_reader_html_a8c105de7c0e23563a7ad8c76310ff394"><div class="ttname"><a href="class_katydid_1_1_k_t_egg3_reader.html#a8c105de7c0e23563a7ad8c76310ff394">Katydid::KTEgg3Reader::SetStartTime</a></div><div class="ttdeci">void SetStartTime(double time)</div><div class="ttdef"><b>Definition:</b> <a href="_k_t_egg3_reader_8hh_source.html#l00185">KTEgg3Reader.hh:185</a></div></div>
<div class="ttc" id="class_katydid_1_1_k_t_egg3_reader_html_a0d59ad71bc70a2024143ad6c16dad378"><div class="ttname"><a href="class_katydid_1_1_k_t_egg3_reader.html#a0d59ad71bc70a2024143ad6c16dad378">Katydid::KTEgg3Reader::~KTEgg3Reader</a></div><div class="ttdeci">virtual ~KTEgg3Reader()</div><div class="ttdef"><b>Definition:</b> <a href="_k_t_egg3_reader_8cc_source.html#l00062">KTEgg3Reader.cc:62</a></div></div>
<div class="ttc" id="classmonarch3_1_1_m3_record_html_af92912d1e543e96cb5f176b1f4a7996a"><div class="ttname"><a href="classmonarch3_1_1_m3_record.html#af92912d1e543e96cb5f176b1f4a7996a">monarch3::M3Record::GetData</a></div><div class="ttdeci">const byte_type * GetData() const </div><div class="ttdef"><b>Definition:</b> <a href="_m3_record_8hh_source.html#l00104">M3Record.hh:104</a></div></div>
<div class="ttc" id="classmonarch3_1_1_m3_stream_html_af4910b64218a8e68b2598cec89caadf5"><div class="ttname"><a href="classmonarch3_1_1_m3_stream.html#af4910b64218a8e68b2598cec89caadf5">monarch3::M3Stream::GetDataTypeSize</a></div><div class="ttdeci">unsigned GetDataTypeSize() const </div><div class="ttdef"><b>Definition:</b> <a href="_m3_stream_8hh_source.html#l00108">M3Stream.hh:108</a></div></div>
<div class="ttc" id="classmonarch3_1_1_m3_stream_html_ab922bb017acb0826b32890f556bf1c71"><div class="ttname"><a href="classmonarch3_1_1_m3_stream.html#ab922bb017acb0826b32890f556bf1c71">monarch3::M3Stream::GetSampleSize</a></div><div class="ttdeci">unsigned GetSampleSize() const </div><div class="ttdef"><b>Definition:</b> <a href="_m3_stream_8hh_source.html#l00109">M3Stream.hh:109</a></div></div>
<div class="ttc" id="class_katydid_1_1_k_t_egg3_reader_html"><div class="ttname"><a href="class_katydid_1_1_k_t_egg3_reader.html">Katydid::KTEgg3Reader</a></div><div class="ttdef"><b>Definition:</b> <a href="_k_t_egg3_reader_8hh_source.html#l00039">KTEgg3Reader.hh:39</a></div></div>
<div class="ttc" id="_m3_data_interface_8hh_html"><div class="ttname"><a href="_m3_data_interface_8hh.html">M3DataInterface.hh</a></div></div>
<div class="ttc" id="class_katydid_1_1_k_t_egg_reader_html"><div class="ttname"><a href="class_katydid_1_1_k_t_egg_reader.html">Katydid::KTEggReader</a></div><div class="ttdef"><b>Definition:</b> <a href="_k_t_egg_reader_8hh_source.html#l00022">KTEggReader.hh:22</a></div></div>
<div class="ttc" id="classmonarch3_1_1_m3_record_html_ad95d19bb077743ab13e6c2383c3934f5"><div class="ttname"><a href="classmonarch3_1_1_m3_record.html#ad95d19bb077743ab13e6c2383c3934f5">monarch3::M3Record::GetRecordId</a></div><div class="ttdeci">RecordIdType GetRecordId() const </div><div class="ttdef"><b>Definition:</b> <a href="_m3_record_8hh_source.html#l00072">M3Record.hh:72</a></div></div>
<div class="ttc" id="_k_t_slice_header_8hh_html"><div class="ttname"><a href="_k_t_slice_header_8hh.html">KTSliceHeader.hh</a></div></div>
<div class="ttc" id="_k_t_logger_8hh_html_a96ab3c69ecd7dd33e9cede5dbb9f7fbd"><div class="ttname"><a href="_k_t_logger_8hh.html#a96ab3c69ecd7dd33e9cede5dbb9f7fbd">KTWARN</a></div><div class="ttdeci">#define KTWARN(...)            </div><div class="ttdef"><b>Definition:</b> <a href="_k_t_logger_8hh_source.html#l00346">KTLogger.hh:346</a></div></div>
<div class="ttc" id="class_katydid_1_1_k_t_raw_time_series_html"><div class="ttname"><a href="class_katydid_1_1_k_t_raw_time_series.html">Katydid::KTRawTimeSeries</a></div><div class="ttdef"><b>Definition:</b> <a href="_k_t_raw_time_series_8hh_source.html#l00017">KTRawTimeSeries.hh:17</a></div></div>
<div class="ttc" id="class_katydid_1_1_k_t_slice_header_html_afa7b46fec72488f86fb7db80dc7dcc98"><div class="ttname"><a href="class_katydid_1_1_k_t_slice_header.html#afa7b46fec72488f86fb7db80dc7dcc98">Katydid::KTSliceHeader::SetTimeStamp</a></div><div class="ttdeci">void SetTimeStamp(uint64_t timeStamp, unsigned component=0)</div><div class="ttdef"><b>Definition:</b> <a href="_k_t_slice_header_8hh_source.html#l00163">KTSliceHeader.hh:163</a></div></div>
<div class="ttc" id="_nymph_2_scarab_2library_2_c_make_lists_8txt_html_adaf878e1866a055cb42e2b73e0652ce5"><div class="ttname"><a href="_nymph_2_scarab_2library_2_c_make_lists_8txt.html#adaf878e1866a055cb42e2b73e0652ce5">string</a></div><div class="ttdeci">VERSION scarab_version_from_file string(REPLACE&quot; &quot;&quot;.&quot;scarab_version ${scarab_version_from_file}) cmake_policy(SET CMP0048 NEW) project(Scarab VERSION $</div><div class="ttdef"><b>Definition:</b> <a href="_nymph_2_scarab_2library_2_c_make_lists_8txt_source.html#l00014">Nymph/Scarab/library/CMakeLists.txt:14</a></div></div>
<div class="ttc" id="class_katydid_1_1_k_t_slice_header_html_a0ada230157861253769b989c8687e5fe"><div class="ttname"><a href="class_katydid_1_1_k_t_slice_header.html#a0ada230157861253769b989c8687e5fe">Katydid::KTSliceHeader::SetRecordID</a></div><div class="ttdeci">void SetRecordID(uint64_t recId, unsigned component=0)</div><div class="ttdef"><b>Definition:</b> <a href="_k_t_slice_header_8hh_source.html#l00187">KTSliceHeader.hh:187</a></div></div>
<div class="ttc" id="classmonarch3_1_1_monarch3_html_a9030ba233452be1652feb745f67b53be"><div class="ttname"><a href="classmonarch3_1_1_monarch3.html#a9030ba233452be1652feb745f67b53be">monarch3::Monarch3::FinishReading</a></div><div class="ttdeci">void FinishReading() const </div><div class="ttdoc">Close the file. </div><div class="ttdef"><b>Definition:</b> <a href="_m3_monarch_8cc_source.html#l00216">M3Monarch.cc:216</a></div></div>
<div class="ttc" id="classmonarch3_1_1_m3_stream_html_ab7a3038fa4de4a64a4d122c11912536e"><div class="ttname"><a href="classmonarch3_1_1_m3_stream.html#ab7a3038fa4de4a64a4d122c11912536e">monarch3::M3Stream::GetChannelRecordSize</a></div><div class="ttdeci">unsigned GetChannelRecordSize() const </div><div class="ttdef"><b>Definition:</b> <a href="_m3_stream_8hh_source.html#l00113">M3Stream.hh:113</a></div></div>
<div class="ttc" id="classmonarch3_1_1_m3_record_html_a78691a8fd80ec746296231877da028ae"><div class="ttname"><a href="classmonarch3_1_1_m3_record.html#a78691a8fd80ec746296231877da028ae">monarch3::M3Record::GetTime</a></div><div class="ttdeci">TimeType GetTime() const </div><div class="ttdef"><b>Definition:</b> <a href="_m3_record_8hh_source.html#l00088">M3Record.hh:88</a></div></div>
<div class="ttc" id="class_katydid_1_1_k_t_egg3_reader_html_aa6defa25d5c4902148ba8b6680e846bd"><div class="ttname"><a href="class_katydid_1_1_k_t_egg3_reader.html#aa6defa25d5c4902148ba8b6680e846bd">Katydid::KTEgg3Reader::GetTimeInRun</a></div><div class="ttdeci">double GetTimeInRun() const </div><div class="ttdoc">Returns the time since the run started in seconds. </div><div class="ttdef"><b>Definition:</b> <a href="_k_t_egg3_reader_8hh_source.html#l00205">KTEgg3Reader.hh:205</a></div></div>
<div class="ttc" id="struct_katydid_1_1_k_t_egg3_reader_1_1_monarch_read_state_html_acdbfc1c1eca541ab1fe37f111a6c30db"><div class="ttname"><a href="struct_katydid_1_1_k_t_egg3_reader_1_1_monarch_read_state.html#acdbfc1c1eca541ab1fe37f111a6c30db">Katydid::KTEgg3Reader::MonarchReadState::fCurrentRecord</a></div><div class="ttdeci">unsigned fCurrentRecord</div><div class="ttdef"><b>Definition:</b> <a href="_k_t_egg3_reader_8hh_source.html#l00062">KTEgg3Reader.hh:62</a></div></div>
<div class="ttc" id="namespacemonarch3_html_a4462ba357dee30163a69aa8f39ea8eee"><div class="ttname"><a href="namespacemonarch3.html#a4462ba357dee30163a69aa8f39ea8eee">monarch3::sAnalog</a></div><div class="ttdeci">static const uint32_t sAnalog</div><div class="ttdef"><b>Definition:</b> <a href="_m3_constants_8hh_source.html#l00040">M3Constants.hh:40</a></div></div>
<div class="ttc" id="class_katydid_1_1_k_t_egg3_reader_html_a7cc214c70efb4ad80bc0ccd589b49fbb"><div class="ttname"><a href="class_katydid_1_1_k_t_egg3_reader.html#a7cc214c70efb4ad80bc0ccd589b49fbb">Katydid::KTEgg3Reader::fSliceSize</a></div><div class="ttdeci">unsigned fSliceSize</div><div class="ttdef"><b>Definition:</b> <a href="_k_t_egg3_reader_8hh_source.html#l00081">KTEgg3Reader.hh:81</a></div></div>
<div class="ttc" id="classmonarch3_1_1_monarch3_html_a52dd07bfccefef48ba958a041bb8b2f8"><div class="ttname"><a href="classmonarch3_1_1_monarch3.html#a52dd07bfccefef48ba958a041bb8b2f8">monarch3::Monarch3::GetStream</a></div><div class="ttdeci">const M3Stream * GetStream(unsigned stream) const </div><div class="ttdoc">Get the pointer to a particular stream. </div><div class="ttdef"><b>Definition:</b> <a href="_m3_monarch_8hh_source.html#l00136">M3Monarch.hh:136</a></div></div>
<div class="ttc" id="class_katydid_1_1_k_t_egg_header_html"><div class="ttname"><a href="class_katydid_1_1_k_t_egg_header.html">Katydid::KTEggHeader</a></div><div class="ttdef"><b>Definition:</b> <a href="_k_t_egg_header_8hh_source.html#l00047">KTEggHeader.hh:47</a></div></div>
<div class="ttc" id="classmonarch3_1_1_monarch3_html_af7842ef2ed898774af6736cff5e47fcd"><div class="ttname"><a href="classmonarch3_1_1_monarch3.html#af7842ef2ed898774af6736cff5e47fcd">monarch3::Monarch3::GetHeader</a></div><div class="ttdeci">const M3Header * GetHeader() const </div><div class="ttdoc">Get the pointer to the header. </div><div class="ttdef"><b>Definition:</b> <a href="_m3_monarch_8hh_source.html#l00127">M3Monarch.hh:127</a></div></div>
<div class="ttc" id="class_katydid_1_1_k_t_egg3_reader_html_a2701157c74fc74ad6b3d325dde517ae6"><div class="ttname"><a href="class_katydid_1_1_k_t_egg3_reader.html#a2701157c74fc74ad6b3d325dde517ae6">Katydid::KTEgg3Reader::fT0Offset</a></div><div class="ttdeci">monarch3::TimeType fT0Offset</div><div class="ttdef"><b>Definition:</b> <a href="_k_t_egg3_reader_8hh_source.html#l00143">KTEgg3Reader.hh:143</a></div></div>
<div class="ttc" id="namespacemonarch3_html"><div class="ttname"><a href="namespacemonarch3.html">monarch3</a></div><div class="ttdef"><b>Definition:</b> <a href="_k_t_egg3_reader_8hh_source.html#l00026">KTEgg3Reader.hh:26</a></div></div>
<div class="ttc" id="_k_t_egg_processor_8hh_html"><div class="ttname"><a href="_k_t_egg_processor_8hh.html">KTEggProcessor.hh</a></div><div class="ttdoc">Contains KTEggProcessor. </div></div>
<div class="ttc" id="class_katydid_1_1_k_t_egg3_reader_html_a9c354a97acf448ac5aae549b6c1d977a"><div class="ttname"><a href="class_katydid_1_1_k_t_egg3_reader.html#a9c354a97acf448ac5aae549b6c1d977a">Katydid::KTEgg3Reader::GetTimeInRunManually</a></div><div class="ttdeci">double GetTimeInRunManually() const </div><div class="ttdef"><b>Definition:</b> <a href="_k_t_egg3_reader_8hh_source.html#l00215">KTEgg3Reader.hh:215</a></div></div>
<div class="ttc" id="class_katydid_1_1_k_t_egg_header_html_a6a53298e628beae91dfd14deb988aeacab5aff04807b6b9eb73e75f2adf0c66b4"><div class="ttname"><a href="class_katydid_1_1_k_t_egg_header.html#a6a53298e628beae91dfd14deb988aeacab5aff04807b6b9eb73e75f2adf0c66b4">Katydid::KTEggHeader::kComplex</a></div><div class="ttdef"><b>Definition:</b> <a href="_k_t_egg_header_8hh_source.html#l00053">KTEggHeader.hh:53</a></div></div>
<div class="ttc" id="classmonarch3_1_1_m3_header_html"><div class="ttname"><a href="classmonarch3_1_1_m3_header.html">monarch3::M3Header</a></div><div class="ttdoc">Egg file header information. </div><div class="ttdef"><b>Definition:</b> <a href="_m3_header_8hh_source.html#l00152">M3Header.hh:152</a></div></div>
<div class="ttc" id="struct_katydid_1_1_k_t_egg3_reader_1_1_monarch_read_state_html_a99db392d1df2153ecad2abd0177c5e22a92cc411a44883830dcd948068101e096"><div class="ttname"><a href="struct_katydid_1_1_k_t_egg3_reader_1_1_monarch_read_state.html#a99db392d1df2153ecad2abd0177c5e22a92cc411a44883830dcd948068101e096">Katydid::KTEgg3Reader::MonarchReadState::kContinueReading</a></div><div class="ttdef"><b>Definition:</b> <a href="_k_t_egg3_reader_8hh_source.html#l00050">KTEgg3Reader.hh:50</a></div></div>
<div class="ttc" id="class_katydid_1_1_k_t_egg3_reader_html_a7db2354e7c3d3827194467424edce8c1"><div class="ttname"><a href="class_katydid_1_1_k_t_egg3_reader.html#a7db2354e7c3d3827194467424edce8c1">Katydid::KTEgg3Reader::fM3Stream</a></div><div class="ttdeci">const monarch3::M3Stream * fM3Stream</div><div class="ttdef"><b>Definition:</b> <a href="_k_t_egg3_reader_8hh_source.html#l00107">KTEgg3Reader.hh:107</a></div></div>
<div class="ttc" id="classmonarch3_1_1_m3_channel_header_html"><div class="ttname"><a href="classmonarch3_1_1_m3_channel_header.html">monarch3::M3ChannelHeader</a></div><div class="ttdoc">Single-channel header information. </div><div class="ttdef"><b>Definition:</b> <a href="_m3_header_8hh_source.html#l00092">M3Header.hh:92</a></div></div>
<div class="ttc" id="struct_katydid_1_1_k_t_egg3_reader_1_1_monarch_read_state_html_adf6f4f5852b927c3fd8cfd7339921d44"><div class="ttname"><a href="struct_katydid_1_1_k_t_egg3_reader_1_1_monarch_read_state.html#adf6f4f5852b927c3fd8cfd7339921d44">Katydid::KTEgg3Reader::MonarchReadState::fStartOfSliceAcquisitionId</a></div><div class="ttdeci">unsigned fStartOfSliceAcquisitionId</div><div class="ttdef"><b>Definition:</b> <a href="_k_t_egg3_reader_8hh_source.html#l00061">KTEgg3Reader.hh:61</a></div></div>
<div class="ttc" id="namespace_katydid_html_a808869e9392089003267026a3b0f342d"><div class="ttname"><a href="namespace_katydid.html#a808869e9392089003267026a3b0f342d">Katydid::sAnalog</a></div><div class="ttdeci">static const uint32_t sAnalog</div><div class="ttdef"><b>Definition:</b> <a href="_k_t_constants_8hh_source.html#l00024">KTConstants.hh:24</a></div></div>
<div class="ttc" id="class_katydid_1_1_k_t_egg3_reader_html_aab6abe4ffbaf2fb6ce0a785e4473601f"><div class="ttname"><a href="class_katydid_1_1_k_t_egg3_reader.html#aab6abe4ffbaf2fb6ce0a785e4473601f">Katydid::KTEgg3Reader::fReadState</a></div><div class="ttdeci">MonarchReadState fReadState</div><div class="ttdef"><b>Definition:</b> <a href="_k_t_egg3_reader_8hh_source.html#l00114">KTEgg3Reader.hh:114</a></div></div>
<div class="ttc" id="class_katydid_1_1_k_t_egg_header_html_a58b16184c6ba5af2bd51c4ae9dcb8a2b"><div class="ttname"><a href="class_katydid_1_1_k_t_egg_header.html#a58b16184c6ba5af2bd51c4ae9dcb8a2b">Katydid::KTEggHeader::SetChannelHeader</a></div><div class="ttdeci">void SetChannelHeader(KTChannelHeader *chHeader, unsigned component=0)</div><div class="ttdef"><b>Definition:</b> <a href="_k_t_egg_header_8hh_source.html#l00108">KTEggHeader.hh:108</a></div></div>
<div class="ttc" id="_m3_monarch_8hh_html"><div class="ttname"><a href="_m3_monarch_8hh.html">M3Monarch.hh</a></div></div>
<div class="ttc" id="class_nymph_1_1_k_t_data_html"><div class="ttname"><a href="class_nymph_1_1_k_t_data.html">Nymph::KTData</a></div><div class="ttdef"><b>Definition:</b> <a href="_k_t_data_8hh_source.html#l00051">KTData.hh:51</a></div></div>
<div class="ttc" id="_m3_exception_8hh_html"><div class="ttname"><a href="_m3_exception_8hh.html">M3Exception.hh</a></div></div>
<div class="ttc" id="struct_katydid_1_1_k_t_egg3_reader_1_1_monarch_read_state_html_a99db392d1df2153ecad2abd0177c5e22a8ed6be8254581d9d99e92a2878819a9c"><div class="ttname"><a href="struct_katydid_1_1_k_t_egg3_reader_1_1_monarch_read_state.html#a99db392d1df2153ecad2abd0177c5e22a8ed6be8254581d9d99e92a2878819a9c">Katydid::KTEgg3Reader::MonarchReadState::kAtStartOfRun</a></div><div class="ttdef"><b>Definition:</b> <a href="_k_t_egg3_reader_8hh_source.html#l00049">KTEgg3Reader.hh:49</a></div></div>
<div class="ttc" id="namespacemonarch3_html_a2169f1221c15c8d4fdf482886f0c1364"><div class="ttname"><a href="namespacemonarch3.html#a2169f1221c15c8d4fdf482886f0c1364">monarch3::sDigitizedUS</a></div><div class="ttdeci">static const uint32_t sDigitizedUS</div><div class="ttdef"><b>Definition:</b> <a href="_m3_constants_8hh_source.html#l00038">M3Constants.hh:38</a></div></div>
<div class="ttc" id="struct_nymph_1_1_k_t_extensible_struct_core_html_a4b8206d04cca85cee203472264fbe1ce"><div class="ttname"><a href="struct_nymph_1_1_k_t_extensible_struct_core.html#a4b8206d04cca85cee203472264fbe1ce">Nymph::KTExtensibleStructCore::Of</a></div><div class="ttdeci">XStructType &amp; Of(void)</div><div class="ttdoc">Returns a reference to the object of type XStructType; creates that object if it doesn&amp;#39;t exist...</div><div class="ttdef"><b>Definition:</b> <a href="_k_t_extensible_struct_8hh_source.html#l00121">KTExtensibleStruct.hh:121</a></div></div>
<div class="ttc" id="class_katydid_1_1_k_t_egg3_reader_html_af0b50d4c5b63810dbd42aa5cafa17060"><div class="ttname"><a href="class_katydid_1_1_k_t_egg3_reader.html#af0b50d4c5b63810dbd42aa5cafa17060">Katydid::KTEgg3Reader::fSliceNumber</a></div><div class="ttdeci">uint64_t fSliceNumber</div><div class="ttdef"><b>Definition:</b> <a href="_k_t_egg3_reader_8hh_source.html#l00150">KTEgg3Reader.hh:150</a></div></div>
<div class="ttc" id="class_katydid_1_1_k_t_egg3_reader_html_a1e92740d072bbe485e1298706a4bc92b"><div class="ttname"><a href="class_katydid_1_1_k_t_egg3_reader.html#a1e92740d072bbe485e1298706a4bc92b">Katydid::KTEgg3Reader::HatchNextSlice</a></div><div class="ttdeci">Nymph::KTDataPtr HatchNextSlice()</div><div class="ttdoc">Returns the next slice&amp;#39;s time series data. </div><div class="ttdef"><b>Definition:</b> <a href="_k_t_egg3_reader_8cc_source.html#l00190">KTEgg3Reader.cc:190</a></div></div>
<div class="ttc" id="_k_t_logger_8hh_html_a0269124a70367090229edbd85a0af462"><div class="ttname"><a href="_k_t_logger_8hh.html#a0269124a70367090229edbd85a0af462">KTINFO</a></div><div class="ttdeci">#define KTINFO(...)            </div><div class="ttdef"><b>Definition:</b> <a href="_k_t_logger_8hh_source.html#l00344">KTLogger.hh:344</a></div></div>
<div class="ttc" id="struct_katydid_1_1_k_t_egg3_reader_1_1_monarch_read_state_html_a88aa5bb908452a33aa3e3476c8f039bc"><div class="ttname"><a href="struct_katydid_1_1_k_t_egg3_reader_1_1_monarch_read_state.html#a88aa5bb908452a33aa3e3476c8f039bc">Katydid::KTEgg3Reader::MonarchReadState::fStartOfLastSliceRecord</a></div><div class="ttdeci">unsigned fStartOfLastSliceRecord</div><div class="ttdef"><b>Definition:</b> <a href="_k_t_egg3_reader_8hh_source.html#l00059">KTEgg3Reader.hh:59</a></div></div>
<div class="ttc" id="class_katydid_1_1_k_t_egg3_reader_html_a41c330c0f4f509bdbe20dca0fc38aa5b"><div class="ttname"><a href="class_katydid_1_1_k_t_egg3_reader.html#a41c330c0f4f509bdbe20dca0fc38aa5b">Katydid::KTEgg3Reader::GetTimeInRunFromMonarch</a></div><div class="ttdeci">double GetTimeInRunFromMonarch() const </div><div class="ttdef"><b>Definition:</b> <a href="_k_t_egg3_reader_8hh_source.html#l00210">KTEgg3Reader.hh:210</a></div></div>
<div class="ttc" id="_k_t_raw_time_series_8hh_html"><div class="ttname"><a href="_k_t_raw_time_series_8hh.html">KTRawTimeSeries.hh</a></div></div>
<div class="ttc" id="_k_t_egg_reader_8hh_html_a8561dfc60f324d128611b850fa48e0d4"><div class="ttname"><a href="_k_t_egg_reader_8hh.html#a8561dfc60f324d128611b850fa48e0d4">KT_REGISTER_EGGREADER</a></div><div class="ttdeci">#define KT_REGISTER_EGGREADER(reader_class, reader_name)</div><div class="ttdef"><b>Definition:</b> <a href="_k_t_egg_reader_8hh_source.html#l00041">KTEggReader.hh:41</a></div></div>
<div class="ttc" id="namespace_nymph_html"><div class="ttname"><a href="namespace_nymph.html">Nymph</a></div><div class="ttdef"><b>Definition:</b> <a href="_k_t_test_configurable_8cc_source.html#l00015">KTTestConfigurable.cc:15</a></div></div>
<div class="ttc" id="namespace_nymph_html_acab933e124dd88102dbcaae6d00a1fd8"><div class="ttname"><a href="namespace_nymph.html#acab933e124dd88102dbcaae6d00a1fd8">Nymph::KTDataPtr</a></div><div class="ttdeci">boost::shared_ptr&lt; KTData &gt; KTDataPtr</div><div class="ttdef"><b>Definition:</b> <a href="_k_t_data_8hh_source.html#l00074">KTData.hh:74</a></div></div>
<div class="ttc" id="class_katydid_1_1_k_t_egg3_reader_html_ac0a9c69664ffbe0f063fa796c0b9cea1"><div class="ttname"><a href="class_katydid_1_1_k_t_egg3_reader.html#ac0a9c69664ffbe0f063fa796c0b9cea1">Katydid::KTEgg3Reader::CloseEgg</a></div><div class="ttdeci">bool CloseEgg()</div><div class="ttdoc">Closes the file. </div><div class="ttdef"><b>Definition:</b> <a href="_k_t_egg3_reader_8cc_source.html#l00454">KTEgg3Reader.cc:454</a></div></div>
<div class="ttc" id="class_katydid_1_1_k_t_egg3_reader_html_a3cd34f7e439ee74136318b926b111cad"><div class="ttname"><a href="class_katydid_1_1_k_t_egg3_reader.html#a3cd34f7e439ee74136318b926b111cad">Katydid::KTEgg3Reader::fHeader</a></div><div class="ttdeci">KTEggHeader &amp; fHeader</div><div class="ttdef"><b>Definition:</b> <a href="_k_t_egg3_reader_8hh_source.html#l00111">KTEgg3Reader.hh:111</a></div></div>
<div class="ttc" id="classmonarch3_1_1_m3_stream_html_ad05a9a7cae7a894640bd8add02468111"><div class="ttname"><a href="classmonarch3_1_1_m3_stream.html#ad05a9a7cae7a894640bd8add02468111">monarch3::M3Stream::GetNChannels</a></div><div class="ttdeci">unsigned GetNChannels() const </div><div class="ttdef"><b>Definition:</b> <a href="_m3_stream_8hh_source.html#l00114">M3Stream.hh:114</a></div></div>
<div class="ttc" id="class_katydid_1_1_k_t_egg3_reader_html_a40a80cffa30847e177029b886068dd55"><div class="ttname"><a href="class_katydid_1_1_k_t_egg3_reader.html#a40a80cffa30847e177029b886068dd55">Katydid::KTEgg3Reader::fMonarch</a></div><div class="ttdeci">const monarch3::Monarch3 * fMonarch</div><div class="ttdef"><b>Definition:</b> <a href="_k_t_egg3_reader_8hh_source.html#l00106">KTEgg3Reader.hh:106</a></div></div>
<div class="ttc" id="class_katydid_1_1_k_t_slice_header_html"><div class="ttname"><a href="class_katydid_1_1_k_t_slice_header.html">Katydid::KTSliceHeader</a></div><div class="ttdef"><b>Definition:</b> <a href="_k_t_slice_header_8hh_source.html#l00022">KTSliceHeader.hh:22</a></div></div>
<div class="ttc" id="class_katydid_1_1_k_t_egg3_reader_html_aafb6e6dca9b06df9729056d197e7a515"><div class="ttname"><a href="class_katydid_1_1_k_t_egg3_reader.html#aafb6e6dca9b06df9729056d197e7a515">Katydid::KTEgg3Reader::fSampleRateUnitsInHz</a></div><div class="ttdeci">double fSampleRateUnitsInHz</div><div class="ttdoc">Time of the first record. </div><div class="ttdef"><b>Definition:</b> <a href="_k_t_egg3_reader_8hh_source.html#l00145">KTEgg3Reader.hh:145</a></div></div>
<div class="ttc" id="class_katydid_1_1_k_t_channel_header_html"><div class="ttname"><a href="class_katydid_1_1_k_t_channel_header.html">Katydid::KTChannelHeader</a></div><div class="ttdef"><b>Definition:</b> <a href="_k_t_egg_header_8hh_source.html#l00021">KTEggHeader.hh:21</a></div></div>
<div class="ttc" id="_k_t_logger_8hh_html_af91ee17a153bcfb7b51c0da13ed844ad"><div class="ttname"><a href="_k_t_logger_8hh.html#af91ee17a153bcfb7b51c0da13ed844ad">KTDEBUG</a></div><div class="ttdeci">#define KTDEBUG(...)          </div><div class="ttdef"><b>Definition:</b> <a href="_k_t_logger_8hh_source.html#l00343">KTLogger.hh:343</a></div></div>
<div class="ttc" id="classmonarch3_1_1_m3_header_html_a1477dc4c3f0a064e458ff7440d2be7aa"><div class="ttname"><a href="classmonarch3_1_1_m3_header.html#a1477dc4c3f0a064e458ff7440d2be7aa">monarch3::M3Header::GetStreamHeaders</a></div><div class="ttdeci">std::vector&lt; M3StreamHeader &gt; &amp; GetStreamHeaders()</div><div class="ttdef"><b>Definition:</b> <a href="_m3_header_8hh_source.html#l00268">M3Header.hh:268</a></div></div>
<div class="ttc" id="namespace_katydid_html_ad2209375e0a3facf63b186997f06aef4"><div class="ttname"><a href="namespace_katydid.html#ad2209375e0a3facf63b186997f06aef4">Katydid::ConvertMonarch3DataFormat</a></div><div class="ttdeci">uint32_t ConvertMonarch3DataFormat(uint32_t m3DataFormat)</div><div class="ttdef"><b>Definition:</b> <a href="_k_t_egg3_reader_8cc_source.html#l00537">KTEgg3Reader.cc:537</a></div></div>
<div class="ttc" id="classmonarch3_1_1_m3_exception_html"><div class="ttname"><a href="classmonarch3_1_1_m3_exception.html">monarch3::M3Exception</a></div><div class="ttdoc">Specialized exception class for Monarch3. </div><div class="ttdef"><b>Definition:</b> <a href="_m3_exception_8hh_source.html#l00028">M3Exception.hh:28</a></div></div>
<div class="ttc" id="class_katydid_1_1_k_t_slice_header_html_aab5046b3baaefe942636952a0d454219"><div class="ttname"><a href="class_katydid_1_1_k_t_slice_header.html#aab5046b3baaefe942636952a0d454219">Katydid::KTSliceHeader::CalculateBinWidthAndSliceLength</a></div><div class="ttdeci">void CalculateBinWidthAndSliceLength()</div><div class="ttdef"><b>Definition:</b> <a href="_k_t_slice_header_8hh_source.html#l00118">KTSliceHeader.hh:118</a></div></div>
<div class="ttc" id="class_katydid_1_1_k_t_egg3_reader_html_a27ad6b323a93eb1b26fe76d369a24d75"><div class="ttname"><a href="class_katydid_1_1_k_t_egg3_reader.html#a27ad6b323a93eb1b26fe76d369a24d75">Katydid::KTEgg3Reader::GetTimeInRunFirstCall</a></div><div class="ttdeci">double GetTimeInRunFirstCall() const </div><div class="ttdef"><b>Definition:</b> <a href="_k_t_egg3_reader_8cc_source.html#l00519">KTEgg3Reader.cc:519</a></div></div>
<div class="ttc" id="struct_katydid_1_1_k_t_egg3_reader_1_1_monarch_read_state_html_a36b1c3d6b58f16ca0121aa34cf01c7be"><div class="ttname"><a href="struct_katydid_1_1_k_t_egg3_reader_1_1_monarch_read_state.html#a36b1c3d6b58f16ca0121aa34cf01c7be">Katydid::KTEgg3Reader::MonarchReadState::fStatus</a></div><div class="ttdeci">Status fStatus</div><div class="ttdef"><b>Definition:</b> <a href="_k_t_egg3_reader_8hh_source.html#l00063">KTEgg3Reader.hh:63</a></div></div>
<div class="ttc" id="class_katydid_1_1_k_t_egg_header_html_a24b7168fb811e520f1efe3aad137ac24"><div class="ttname"><a href="class_katydid_1_1_k_t_egg_header.html#a24b7168fb811e520f1efe3aad137ac24">Katydid::KTEggHeader::SetNChannels</a></div><div class="ttdeci">KTEggHeader &amp; SetNChannels(unsigned nChannels)</div><div class="ttdef"><b>Definition:</b> <a href="_k_t_egg_header_8cc_source.html#l00143">KTEggHeader.cc:143</a></div></div>
<div class="ttc" id="class_katydid_1_1_k_t_slice_header_html_ab4b77960162c060eaf7e9dab43b8effb"><div class="ttname"><a href="class_katydid_1_1_k_t_slice_header.html#ab4b77960162c060eaf7e9dab43b8effb">Katydid::KTSliceHeader::SetAcquisitionID</a></div><div class="ttdeci">void SetAcquisitionID(uint64_t acqId, unsigned component=0)</div><div class="ttdef"><b>Definition:</b> <a href="_k_t_slice_header_8hh_source.html#l00175">KTSliceHeader.hh:175</a></div></div>
<div class="ttc" id="_k_t_raw_time_series_data_8hh_html"><div class="ttname"><a href="_k_t_raw_time_series_data_8hh.html">KTRawTimeSeriesData.hh</a></div></div>
<div class="ttc" id="class_katydid_1_1_k_t_egg3_reader_html_a48e7e0db526383a4461736f16ad8a6ef"><div class="ttname"><a href="class_katydid_1_1_k_t_egg3_reader.html#a48e7e0db526383a4461736f16ad8a6ef">Katydid::KTEgg3Reader::CopyHeader</a></div><div class="ttdeci">void CopyHeader(const monarch3::M3Header *monarchHeader)</div><div class="ttdoc">Copy header information from the M3Header object. </div><div class="ttdef"><b>Definition:</b> <a href="_k_t_egg3_reader_8cc_source.html#l00470">KTEgg3Reader.cc:470</a></div></div>
<div class="ttc" id="struct_katydid_1_1_k_t_egg3_reader_1_1_monarch_read_state_html_a2af5dd26a3d57e7d2c901f8cd6c9144b"><div class="ttname"><a href="struct_katydid_1_1_k_t_egg3_reader_1_1_monarch_read_state.html#a2af5dd26a3d57e7d2c901f8cd6c9144b">Katydid::KTEgg3Reader::MonarchReadState::fStartOfLastSliceReadPtr</a></div><div class="ttdeci">unsigned fStartOfLastSliceReadPtr</div><div class="ttdef"><b>Definition:</b> <a href="_k_t_egg3_reader_8hh_source.html#l00060">KTEgg3Reader.hh:60</a></div></div>
<div class="ttc" id="class_katydid_1_1_k_t_egg3_reader_html_ae54688a2292b6385448c61b0ce13e056"><div class="ttname"><a href="class_katydid_1_1_k_t_egg3_reader.html#ae54688a2292b6385448c61b0ce13e056">Katydid::KTEgg3Reader::Configure</a></div><div class="ttdeci">bool Configure(const KTEggProcessor &amp;eggProc)</div><div class="ttdef"><b>Definition:</b> <a href="_k_t_egg3_reader_8cc_source.html#l00070">KTEgg3Reader.cc:70</a></div></div>
<div class="ttc" id="_k_t_egg_header_8hh_html"><div class="ttname"><a href="_k_t_egg_header_8hh.html">KTEggHeader.hh</a></div></div>
<div class="ttc" id="class_katydid_1_1_k_t_raw_time_series_data_html_a17c67aaf91e6469257801f083d10df84"><div class="ttname"><a href="class_katydid_1_1_k_t_raw_time_series_data.html#a17c67aaf91e6469257801f083d10df84">Katydid::KTRawTimeSeriesData::SetTimeSeries</a></div><div class="ttdeci">void SetTimeSeries(KTRawTimeSeries *record, unsigned component=0)</div><div class="ttdef"><b>Definition:</b> <a href="_k_t_raw_time_series_data_8hh_source.html#l00055">KTRawTimeSeriesData.hh:55</a></div></div>
<div class="ttc" id="classmonarch3_1_1_m3_header_html_a3db3030f3e973fabdfb746e836c446be"><div class="ttname"><a href="classmonarch3_1_1_m3_header.html#a3db3030f3e973fabdfb746e836c446be">monarch3::M3Header::GetChannelHeaders</a></div><div class="ttdeci">std::vector&lt; M3ChannelHeader &gt; &amp; GetChannelHeaders()</div><div class="ttdef"><b>Definition:</b> <a href="_m3_header_8hh_source.html#l00263">M3Header.hh:263</a></div></div>
<div class="ttc" id="class_katydid_1_1_k_t_egg3_reader_html_a668bac80c4d508ab48ec72b9a339b942"><div class="ttname"><a href="class_katydid_1_1_k_t_egg3_reader.html#a668bac80c4d508ab48ec72b9a339b942">Katydid::KTEgg3Reader::SetStride</a></div><div class="ttdeci">void SetStride(unsigned stride)</div><div class="ttdef"><b>Definition:</b> <a href="_k_t_egg3_reader_8hh_source.html#l00174">KTEgg3Reader.hh:174</a></div></div>
<div class="ttc" id="namespace_katydid_html"><div class="ttname"><a href="namespace_katydid.html">Katydid</a></div><div class="ttdef"><b>Definition:</b> <a href="_k_t_analysis_candidates_8cc_source.html#l00010">KTAnalysisCandidates.cc:10</a></div></div>
<div class="ttc" id="class_katydid_1_1_k_t_egg3_reader_html_a7d58f2ff112433afc9b366f2ac612a59"><div class="ttname"><a href="class_katydid_1_1_k_t_egg3_reader.html#a7d58f2ff112433afc9b366f2ac612a59">Katydid::KTEgg3Reader::fGetTimeInRun</a></div><div class="ttdeci">GetTIRFunction fGetTimeInRun</div><div class="ttdef"><b>Definition:</b> <a href="_k_t_egg3_reader_8hh_source.html#l00139">KTEgg3Reader.hh:139</a></div></div>
<div class="ttc" id="classmonarch3_1_1_m3_exception_html_a01e6d47d62f0cf7c0186b89d9d818148"><div class="ttname"><a href="classmonarch3_1_1_m3_exception.html#a01e6d47d62f0cf7c0186b89d9d818148">monarch3::M3Exception::what</a></div><div class="ttdeci">virtual const char * what() const </div><div class="ttdef"><b>Definition:</b> <a href="_m3_exception_8cc_source.html#l00034">M3Exception.cc:34</a></div></div>
<div class="ttc" id="classmonarch3_1_1_m3_stream_html_a2b53a97b460e8e6ee31e9b3a60518fe8"><div class="ttname"><a href="classmonarch3_1_1_m3_stream.html#a2b53a97b460e8e6ee31e9b3a60518fe8">monarch3::M3Stream::GetAcquisitionId</a></div><div class="ttdeci">AcquisitionIdType GetAcquisitionId() const </div><div class="ttdef"><b>Definition:</b> <a href="_m3_stream_8hh_source.html#l00116">M3Stream.hh:116</a></div></div>
<div class="ttc" id="namespace_katydid_html_a67595ce1b8415fd716b1b1463fffb030"><div class="ttname"><a href="namespace_katydid.html#a67595ce1b8415fd716b1b1463fffb030">Katydid::sInvalidFormat</a></div><div class="ttdeci">static const uint32_t sInvalidFormat</div><div class="ttdef"><b>Definition:</b> <a href="_k_t_constants_8hh_source.html#l00021">KTConstants.hh:21</a></div></div>
<div class="ttc" id="class_katydid_1_1_k_t_egg_header_html_a627a57b26f34f8de8ab3b854721efe53"><div class="ttname"><a href="class_katydid_1_1_k_t_egg_header.html#a627a57b26f34f8de8ab3b854721efe53">Katydid::KTEggHeader::GetChannelHeader</a></div><div class="ttdeci">const KTChannelHeader * GetChannelHeader(unsigned component=0) const </div><div class="ttdef"><b>Definition:</b> <a href="_k_t_egg_header_8hh_source.html#l00098">KTEggHeader.hh:98</a></div></div>
<div class="ttc" id="classmonarch3_1_1_m3_stream_html_ac24296817eac226a2c9ae5088e9709b8"><div class="ttname"><a href="classmonarch3_1_1_m3_stream.html#ac24296817eac226a2c9ae5088e9709b8">monarch3::M3Stream::GetChannelRecord</a></div><div class="ttdeci">const M3Record * GetChannelRecord(unsigned aChannel) const </div><div class="ttdoc">Get the pointer to a particular channel record. </div><div class="ttdef"><b>Definition:</b> <a href="_m3_stream_8cc_source.html#l00303">M3Stream.cc:303</a></div></div>
<div class="ttc" id="class_katydid_1_1_k_t_egg_processor_html"><div class="ttname"><a href="class_katydid_1_1_k_t_egg_processor.html">Katydid::KTEggProcessor</a></div><div class="ttdoc">Iterates over the slices in an Egg file. </div><div class="ttdef"><b>Definition:</b> <a href="_k_t_egg_processor_8hh_source.html#l00082">KTEggProcessor.hh:82</a></div></div>
<div class="ttc" id="class_katydid_1_1_k_t_raw_time_series_data_html"><div class="ttname"><a href="class_katydid_1_1_k_t_raw_time_series_data.html">Katydid::KTRawTimeSeriesData</a></div><div class="ttdef"><b>Definition:</b> <a href="_k_t_raw_time_series_data_8hh_source.html#l00020">KTRawTimeSeriesData.hh:20</a></div></div>
<div class="ttc" id="class_katydid_1_1_k_t_egg3_reader_html_acd46d0cc944bd3f78a2d2fdd80a706af"><div class="ttname"><a href="class_katydid_1_1_k_t_egg3_reader.html#acd46d0cc944bd3f78a2d2fdd80a706af">Katydid::KTEgg3Reader::fStartTime</a></div><div class="ttdeci">double fStartTime</div><div class="ttdef"><b>Definition:</b> <a href="_k_t_egg3_reader_8hh_source.html#l00083">KTEgg3Reader.hh:83</a></div></div>
<div class="ttc" id="classmonarch3_1_1_monarch3_html_ac6e2f1d4623d6d9ddf75d304785ccb78"><div class="ttname"><a href="classmonarch3_1_1_monarch3.html#ac6e2f1d4623d6d9ddf75d304785ccb78">monarch3::Monarch3::ReadHeader</a></div><div class="ttdeci">void ReadHeader() const </div><div class="ttdoc">This method extracts the header information from the file. If the header read correctly, this returns and the header may be examined, and memory is allocated for the record. Upon successful return monarch is in the eReady state. An exception is thrown if the header is not read. </div><div class="ttdef"><b>Definition:</b> <a href="_m3_monarch_8cc_source.html#l00122">M3Monarch.cc:122</a></div></div>
<div class="ttc" id="class_katydid_1_1_k_t_egg3_reader_html_a64e116eb5d0f3ca7eb19a515af2c0be7"><div class="ttname"><a href="class_katydid_1_1_k_t_egg3_reader.html#a64e116eb5d0f3ca7eb19a515af2c0be7">Katydid::KTEgg3Reader::BreakEgg</a></div><div class="ttdeci">Nymph::KTDataPtr BreakEgg(const std::string &amp;filename)</div><div class="ttdoc">Opens the egg file and returns a new copy of the header information. </div><div class="ttdef"><b>Definition:</b> <a href="_k_t_egg3_reader_8cc_source.html#l00078">KTEgg3Reader.cc:78</a></div></div>
<div class="ttc" id="namespacemonarch3_html_a7b673fffb091ee9790fca5ad52bbffb9"><div class="ttname"><a href="namespacemonarch3.html#a7b673fffb091ee9790fca5ad52bbffb9">monarch3::sDigitizedS</a></div><div class="ttdeci">static const uint32_t sDigitizedS</div><div class="ttdef"><b>Definition:</b> <a href="_m3_constants_8hh_source.html#l00039">M3Constants.hh:39</a></div></div>
<div class="ttc" id="struct_katydid_1_1_k_t_egg3_reader_1_1_monarch_read_state_html_a99db392d1df2153ecad2abd0177c5e22adf8c0404be2ac395d97ba458c09d9061"><div class="ttname"><a href="struct_katydid_1_1_k_t_egg3_reader_1_1_monarch_read_state.html#a99db392d1df2153ecad2abd0177c5e22adf8c0404be2ac395d97ba458c09d9061">Katydid::KTEgg3Reader::MonarchReadState::kInvalid</a></div><div class="ttdef"><b>Definition:</b> <a href="_k_t_egg3_reader_8hh_source.html#l00048">KTEgg3Reader.hh:48</a></div></div>
<div class="ttc" id="class_katydid_1_1_k_t_egg3_reader_html_a78ee85bc95767a5e9a77c4d8f39932e9"><div class="ttname"><a href="class_katydid_1_1_k_t_egg3_reader.html#a78ee85bc95767a5e9a77c4d8f39932e9">Katydid::KTEgg3Reader::fMasterSliceHeader</a></div><div class="ttdeci">KTSliceHeader fMasterSliceHeader</div><div class="ttdef"><b>Definition:</b> <a href="_k_t_egg3_reader_8hh_source.html#l00112">KTEgg3Reader.hh:112</a></div></div>
<div class="ttc" id="_k_t_time_series_data_8hh_html"><div class="ttname"><a href="_k_t_time_series_data_8hh.html">KTTimeSeriesData.hh</a></div><div class="ttdoc">Contains KTTimeSeriesData. </div></div>
<div class="ttc" id="_k_t_time_series_f_f_t_w_8hh_html"><div class="ttname"><a href="_k_t_time_series_f_f_t_w_8hh.html">KTTimeSeriesFFTW.hh</a></div></div>
<div class="ttc" id="class_katydid_1_1_k_t_egg_header_html_a6a53298e628beae91dfd14deb988aeaca372e59b1c5e3855b7ef05b689ad054e0"><div class="ttname"><a href="class_katydid_1_1_k_t_egg_header.html#a6a53298e628beae91dfd14deb988aeaca372e59b1c5e3855b7ef05b689ad054e0">Katydid::KTEggHeader::kReal</a></div><div class="ttdef"><b>Definition:</b> <a href="_k_t_egg_header_8hh_source.html#l00052">KTEggHeader.hh:52</a></div></div>
<div class="ttc" id="_k_t_logger_8hh_html_affc328f122482b294174c463031121e5"><div class="ttname"><a href="_k_t_logger_8hh.html#affc328f122482b294174c463031121e5">KTERROR</a></div><div class="ttdeci">#define KTERROR(...)          </div><div class="ttdef"><b>Definition:</b> <a href="_k_t_logger_8hh_source.html#l00347">KTLogger.hh:347</a></div></div>
<div class="ttc" id="classmonarch3_1_1_m3_stream_html_a3941ff07a1b83f55e1c8a9dcee274d12"><div class="ttname"><a href="classmonarch3_1_1_m3_stream.html#a3941ff07a1b83f55e1c8a9dcee274d12">monarch3::M3Stream::ReadRecord</a></div><div class="ttdeci">bool ReadRecord(int anOffset=0) const </div><div class="ttdoc">Read the next record from the file. </div><div class="ttdef"><b>Definition:</b> <a href="_m3_stream_8cc_source.html#l00312">M3Stream.cc:312</a></div></div>
<div class="ttc" id="namespace_katydid_html_aafd35ce7e9c13f23e7873124fbdb113e"><div class="ttname"><a href="namespace_katydid.html#aafd35ce7e9c13f23e7873124fbdb113e">Katydid::sDigitizedUS</a></div><div class="ttdeci">static const uint32_t sDigitizedUS</div><div class="ttdef"><b>Definition:</b> <a href="_k_t_constants_8hh_source.html#l00022">KTConstants.hh:22</a></div></div>
<div class="ttc" id="class_katydid_1_1_k_t_egg3_reader_html_a85fb62559df20a0e8526340a68ce3bef"><div class="ttname"><a href="class_katydid_1_1_k_t_egg3_reader.html#a85fb62559df20a0e8526340a68ce3bef">Katydid::KTEgg3Reader::fM3StreamHeader</a></div><div class="ttdeci">const monarch3::M3StreamHeader * fM3StreamHeader</div><div class="ttdef"><b>Definition:</b> <a href="_k_t_egg3_reader_8hh_source.html#l00108">KTEgg3Reader.hh:108</a></div></div>
<div class="ttc" id="class_katydid_1_1_k_t_egg3_reader_html_a0ac8a76b0dd1a0a1cf9389dc9a6342bc"><div class="ttname"><a href="class_katydid_1_1_k_t_egg3_reader.html#a0ac8a76b0dd1a0a1cf9389dc9a6342bc">Katydid::KTEgg3Reader::fStride</a></div><div class="ttdeci">unsigned fStride</div><div class="ttdef"><b>Definition:</b> <a href="_k_t_egg3_reader_8hh_source.html#l00082">KTEgg3Reader.hh:82</a></div></div>
<div class="ttc" id="namespace_katydid_html_aeb53492058b1b300ca1d1a2207cd1b4a"><div class="ttname"><a href="namespace_katydid.html#aeb53492058b1b300ca1d1a2207cd1b4a">Katydid::sDigitizedS</a></div><div class="ttdeci">static const uint32_t sDigitizedS</div><div class="ttdef"><b>Definition:</b> <a href="_k_t_constants_8hh_source.html#l00023">KTConstants.hh:23</a></div></div>
<div class="ttc" id="class_katydid_1_1_k_t_egg3_reader_html_a2bcdcf2f462342322d465e47df0e6d9a"><div class="ttname"><a href="class_katydid_1_1_k_t_egg3_reader.html#a2bcdcf2f462342322d465e47df0e6d9a">Katydid::KTEgg3Reader::fBinWidth</a></div><div class="ttdeci">double fBinWidth</div><div class="ttdef"><b>Definition:</b> <a href="_k_t_egg3_reader_8hh_source.html#l00148">KTEgg3Reader.hh:148</a></div></div>
<div class="ttc" id="class_katydid_1_1_k_t_slice_header_html_a40de1ab9d6333a87285e787bbdbfcd3b"><div class="ttname"><a href="class_katydid_1_1_k_t_slice_header.html#a40de1ab9d6333a87285e787bbdbfcd3b">Katydid::KTSliceHeader::SetRawDataFormatType</a></div><div class="ttdeci">void SetRawDataFormatType(unsigned type, unsigned component=0)</div><div class="ttdef"><b>Definition:</b> <a href="_k_t_slice_header_8hh_source.html#l00199">KTSliceHeader.hh:199</a></div></div>
<div class="ttc" id="class_katydid_1_1_k_t_egg3_reader_html_a066baf74358f1e9130ce6ce3507b08a0"><div class="ttname"><a href="class_katydid_1_1_k_t_egg3_reader.html#a066baf74358f1e9130ce6ce3507b08a0">Katydid::KTEgg3Reader::fHeaderPtr</a></div><div class="ttdeci">Nymph::KTDataPtr fHeaderPtr</div><div class="ttdef"><b>Definition:</b> <a href="_k_t_egg3_reader_8hh_source.html#l00110">KTEgg3Reader.hh:110</a></div></div>
<div class="ttc" id="_k_t_logger_8hh_html"><div class="ttname"><a href="_k_t_logger_8hh.html">KTLogger.hh</a></div><div class="ttdoc">Contains the logger class and macros, based on Kasper&amp;#39;s KLogger class. </div></div>
<div class="ttc" id="class_katydid_1_1_k_t_egg3_reader_html_aff8512f6a97b1597fabd5c6d703efa09"><div class="ttname"><a href="class_katydid_1_1_k_t_egg3_reader.html#aff8512f6a97b1597fabd5c6d703efa09">Katydid::KTEgg3Reader::fRecordSize</a></div><div class="ttdeci">unsigned fRecordSize</div><div class="ttdef"><b>Definition:</b> <a href="_k_t_egg3_reader_8hh_source.html#l00147">KTEgg3Reader.hh:147</a></div></div>
<div class="ttc" id="_k_t_egg3_reader_8hh_html"><div class="ttname"><a href="_k_t_egg3_reader_8hh.html">KTEgg3Reader.hh</a></div><div class="ttdoc">Contains KTEgg3Reader. </div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_74389ed8173ad57b461b9d623a1f3867.html">Source</a></li><li class="navelem"><a class="el" href="dir_55bf16e430a629977b52bf129a7f7699.html">Time</a></li><li class="navelem"><a class="el" href="_k_t_egg3_reader_8cc.html">KTEgg3Reader.cc</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
