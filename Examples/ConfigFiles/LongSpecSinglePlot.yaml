processor-toolbox:

    processors:
        - { type: "long-spec-processor",             name: "spec" }
        - { type: "root-spectrogram-writer",         name: "rsw"}
        - { type: "basic-root-writer",               name: "brw" }

    connections:
              # Write individual power spectra from input file to a ROOT file
            - signal: "spec:ps"         
              slot: "brw:ps"

              # Write power spectra from input file to ROOT file as a 2-D spectrogram object
            - signal: "spec:ps"
              slot: "rsw:ps"

              # Make sure to connect the spec-done signal to RSW so the ROOT file gets written
            - signal: "spec:spec-done"
              slot: "rsw:write-file"

    run-queue:
        - spec

spec:
    filename: "../He6_Data/Freq_data_2021-04-29-09-49-39.spec"
    spectra: 1700
    packets-per-spec: 4
    header-bytes: 32
    ROACH-spect-avg: 2
    freq-bins-per-packet: 8192
    min-freq: 1.0e6
    max-freq: 1200.0e6

rsw:
    output-file: "../He6_Data/Freq_data_2021-04-29-09-49-39_RSW.root"
    file-flag: recreate
    mode: single
    min-time: 0.0
    max-time: 0.090
    min-freq: 1.0e6
    max-freq: 1200.0e6

brw:
    output-file: "../He6_Data/Freq_data_2021-04-29-09-49-39_BRW.root"
    file-flag: "recreate"


