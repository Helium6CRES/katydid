# CMakeLists for Katydid/Source/Utility
# Author: N. Oblath

set (UTILITY_DICT_HEADERFILES
    ${CMAKE_CURRENT_SOURCE_DIR}/KTArrayUC.hh
)

set (UTILITY_NODICT_HEADERFILES
    ${CMAKE_CURRENT_SOURCE_DIR}/KTAxisProperties.hh
    ${CMAKE_CURRENT_SOURCE_DIR}/KTAxisProperties_GetNBins.hh
    ${CMAKE_CURRENT_SOURCE_DIR}/KTCutable.hh
    ${CMAKE_CURRENT_SOURCE_DIR}/KTCutableArray.hh
    ${CMAKE_CURRENT_SOURCE_DIR}/KTDestroyer.hh
    ${CMAKE_CURRENT_SOURCE_DIR}/KTInitializer.hh
    ${CMAKE_CURRENT_SOURCE_DIR}/KTMessage.hh
    ${CMAKE_CURRENT_SOURCE_DIR}/KTMessageOrganizer.hh
    ${CMAKE_CURRENT_SOURCE_DIR}/KTPhysicalArray.hh
    ${CMAKE_CURRENT_SOURCE_DIR}/KTProcessor.hh
    ${CMAKE_CURRENT_SOURCE_DIR}/KTSingleton.hh
    ${CMAKE_CURRENT_SOURCE_DIR}/KTUtilityMessage.hh
)

set (UTILITY_HEADERFILES ${UTILITY_DICT_HEADERFILES} ${UTILITY_NODICT_HEADERFILES})

set (UTILITY_SOURCEFILES
    ${CMAKE_CURRENT_SOURCE_DIR}/KTArrayUC.cc
    ${CMAKE_CURRENT_SOURCE_DIR}/KTMessage.cc
    ${CMAKE_CURRENT_SOURCE_DIR}/KTMessageOrganizer.cc
    ${CMAKE_CURRENT_SOURCE_DIR}/KTProcessor.cc
    ${CMAKE_CURRENT_SOURCE_DIR}/KTUtilityMessage.cc
)

set (UTILITY_LINKDEF_HEADERFILE ${CMAKE_CURRENT_SOURCE_DIR}/LinkDef/UtilityLinkDef.hh)
set (UTILITY_DICT_OUTFILE ${CMAKE_CURRENT_BINARY_DIR}/UtilityDict.cxx)

##################################################

ROOT_GENERATE_DICTIONARY ("${UTILITY_DICT_HEADERFILES}" "${UTILITY_LINKDEF_HEADERFILE}" "${UTILITY_DICT_OUTFILE}" "${CMAKE_INCLUDE_PATH}")

add_library (KatydidUtility ${UTILITY_SOURCEFILES} ${UTILITY_DICT_OUTFILE})
set_target_properties(KatydidUtility PROPERTIES INSTALL_NAME_DIR ${CMAKE_INSTALL_PREFIX}/lib)
target_link_libraries (KatydidUtility ${LIBS})

install (FILES ${UTILITY_HEADERFILES}  DESTINATION include)
install (TARGETS KatydidUtility  DESTINATION lib)
         
